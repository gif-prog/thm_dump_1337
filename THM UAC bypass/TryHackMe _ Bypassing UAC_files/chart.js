let apexChart;const apexChartAnimations={'enabled':!![]},showUserAmount=0x32,chartEl=document['querySelector']('#chart-data');async function updateScoreboard(_0x3b0c26){const _0x5d83b8=_0x3b0c26,_0x2f176e=0x2,_0x2cdd2c=document['querySelector']('#scoreboard_header');if(_0x5d83b8['length']>0x0&&Object['keys'](_0x5d83b8[0x0]['tasks'])['length']>0x0&&_0x2cdd2c){_0x2cdd2c['innerHTML']='<th\x20class=\x22rotated\x22\x20colspan=\x22'+_0x2f176e+'\x22><div\x20class=\x22rotated-left-edge\x22></div></th>';const _0x259f1f=_0x3b0c26[0x0];for(const _0xa0ce93 of Object['keys'](_0x259f1f['tasks'])){for(const _0x3cb47a of _0x259f1f['tasks'][_0xa0ce93]){_0x2cdd2c['innerHTML']+='<th\x20class=\x22rotated\x22><div\x20class=\x22category-header-0\x22><span>[Task\x20'+_0xa0ce93+']\x20#'+_0x3cb47a['questionNo']+'</span></div></th>';}}_0x2cdd2c['innerHTML']+='<th\x20class=\x22rotated\x22><div\x20class=\x22rotated-right-edge\x22></div></th>';}const _0x2fb49d=document['querySelector']('#scoreboard_body');_0x2fb49d&&(_0x2fb49d['innerHTML']='',_0x5d83b8['forEach'](async function(_0x55680b,_0x55b00c){const _0x17e16b=_0x55680b['rankNo']?_0x55680b['rankNo']:_0x55b00c+0x1;let _0x12ca20='<tr\x20class=\x22scoreboard_row\x22>';_0x12ca20='<td\x20class=\x22scoreboard_rank\x22>'+_0x17e16b+'</td>',_0x12ca20+='<td\x20class=\x22scoreboard_name\x22\x20style=\x27line-height:0;\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27d-inline-block\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22media\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20class=\x22user-square-img-med\x20mr-2\x22\x20src=\x22'+_0x55680b['avatar']+'\x22/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22media-body\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20class=\x22nocss\x22\x20href=\x22/p/'+_0x55680b['username']+'\x22>'+_0x55680b['username']+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x27m-0\x20size-12\x27><span\x20class=\x22level-simple-design\x20level\x20level-'+_0x55680b['level']+'\x22></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>';for(const _0x56f672 of Object['keys'](_0x55680b['tasks'])){for(const _0xb654d0 of _0x55680b['tasks'][_0x56f672]){let _0xd687db='<i\x20class=\x22fas\x20fa-check-circle\x20scoreboard-points\x22\x20data-toggle=\x22tooltip\x22\x20data-placement=\x22top\x22\x20title=\x22'+_0xb654d0['score']+'\x20points\x22></i>';!_0xb654d0['correct']&&(_0xd687db='<i\x20class=\x22fas\x20fa-check-circle\x22\x20style=\x22opacity:\x200.2;\x22></i>'),_0x12ca20+='<td\x20class=\x22scoreboard_check\x22>'+_0xd687db+'</td>';}}_0x12ca20+='<td\x20class=\x22scoreboard_score\x22>'+_0x55680b['score']+'</td>',_0x12ca20+='</tr>',_0x2fb49d['innerHTML']+=_0x12ca20,$('.scoreboard-points')['tooltip']();}));}function showChart(_0x423de7){$['getJSON']('/api/room/scoreboard?code='+_0x423de7+'&limit=10',async function(_0x2d20de){populateChart(_0x2d20de);});}function populateChart(_0x1195d1){if(_0x1195d1['length']>0x0){updateScoreboard(_0x1195d1);const _0x3d7fa6=formatChartData(_0x1195d1);renderLineChart(_0x3d7fa6);}else{const _0x4f8fa0=document['querySelector']('#scoreboard');_0x4f8fa0&&(_0x4f8fa0['innerHTML']='</br><div\x20class=\x22alert\x20alert-info\x22\x20id=\x22ctf-scoreboard\x22\x20role=\x22alert\x22>There\x20are\x20no\x20scores\x20to\x20show\x20yet.</div>',chartEl['innerHTML']='<div\x20class=\x22alert\x20alert-info\x22\x20id=\x22ctf-chart\x22\x20role=\x22alert\x22>No\x20chart\x20data\x20to\x20display.</div>',chartEl['style']['height']='auto');}}function formatChartData(_0x1295fc){let _0x3e9aa6=[];const _0xc8ce1a=[];for(const _0x80f2d3 of _0x1295fc){_0xc8ce1a['push']({'username':_0x80f2d3['username'],'currentPoints':0x0,'data':[]});for(const _0x260400 of Object['keys'](_0x80f2d3['tasks'])){for(const _0x3f0197 of _0x80f2d3['tasks'][_0x260400]){_0x3e9aa6['push']({'username':_0x80f2d3['username'],'points':_0x3f0197['score'],'awarded':_0x3f0197['timeCorrect']});}}}_0x3e9aa6=_0x3e9aa6=_['sortBy'](_0x3e9aa6,'awarded');const _0x568f89=[];for(const _0x143eae of _0x3e9aa6){if(_0x143eae['awarded']!=0x0){for(const _0x1dc405 of _0xc8ce1a){_0x1dc405['username']==_0x143eae['username']?(_0x1dc405['currentPoints']+=_0x143eae['points'],_0x1dc405['data']['push'](_0x1dc405['currentPoints'])):_0x1dc405['data']['push'](_0x1dc405['currentPoints']);}_0x568f89['push'](_0x143eae['awarded']);}}return{'series':_0xc8ce1a,'labels':_0x568f89};}function renderLineChart(_0x432f34){if(apexChart)apexChart['destroy']();const _0xa1300c=_0x432f34['labels'],_0x325272=[];for(const _0x3931e4 of _0xa1300c){const _0x59c99a=_0x3931e4?prettifyDate3(_0x3931e4):'-';_0x325272['push'](_0x59c99a);}const _0x4f9f84=_0x432f34['series'],_0x4019ad=[];for(const _0x48b4b7 of _0x4f9f84){_0x4019ad['push']({'name':_0x48b4b7['username'],'type':'line','data':_0x48b4b7['data']});}var _0x4f546c={'series':_0x4019ad,'chart':{'animations':apexChartAnimations,'zoom':{'enabled':![]},'height':0x15e,'type':'line','toolbar':{'show':![]}},'stroke':{'curve':'smooth'},'fill':{'type':'solid','opacity':[0.35,0x1]},'labels':_0x325272,'markers':{'size':0x0},'xaxis':{'tooltip':{'enabled':![]},'labels':{'show':![]}},'selection':{'enabled':![]},'tooltip':{'shared':!![],'intersect':![],'y':{'formatter':function(_0x152cf3){if(typeof _0x152cf3!=='undefined')return _0x152cf3['toFixed'](0x0)+'\x20points';return _0x152cf3;}},'x':{'format':'dd\x20MMM'}}};apexChart=new ApexCharts(chartEl,_0x4f546c),apexChart['render'](),apexChartAnimations['enabled']=![];}