let apexChart;const apexChartAnimations={'enabled':!![]},showUserAmount=0x32,chartEl=document['querySelector']('#chart-data');async function updateScoreboard(_0x3aefbd){const _0x8ef07a=_0x3aefbd,_0x5b02a3=0x2,_0x282d68=document['querySelector']('#scoreboard_header');if(_0x8ef07a['length']>0x0&&Object['keys'](_0x8ef07a[0x0]['tasks'])['length']>0x0&&_0x282d68){_0x282d68['innerHTML']='<th\x20class=\x22rotated\x22\x20colspan=\x22'+_0x5b02a3+'\x22><div\x20class=\x22rotated-left-edge\x22></div></th>';const _0x47d313=_0x3aefbd[0x0];for(const _0x1a7514 of Object['keys'](_0x47d313['tasks'])){for(const _0x160a68 of _0x47d313['tasks'][_0x1a7514]){_0x282d68['innerHTML']+='<th\x20class=\x22rotated\x22><div\x20class=\x22category-header-0\x22><span>[Task\x20'+_0x1a7514+']\x20#'+_0x160a68['questionNo']+'</span></div></th>';}}_0x282d68['innerHTML']+='<th\x20class=\x22rotated\x22><div\x20class=\x22rotated-right-edge\x22></div></th>';}const _0x250c1f=document['querySelector']('#scoreboard_body');_0x250c1f&&(_0x250c1f['innerHTML']='',_0x8ef07a['forEach'](async function(_0x26260b,_0x5784d5){const _0x3ec492=_0x26260b['rankNo']?_0x26260b['rankNo']:_0x5784d5+0x1;let _0xd07a60='<tr\x20class=\x22scoreboard_row\x22>';_0xd07a60='<td\x20class=\x22scoreboard_rank\x22>'+_0x3ec492+'</td>',_0xd07a60+='<td\x20class=\x22scoreboard_name\x22\x20style=\x27line-height:0;\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27d-inline-block\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22media\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20class=\x22user-square-img-med\x20mr-2\x22\x20src=\x22'+_0x26260b['avatar']+'\x22/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22media-body\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20class=\x22nocss\x22\x20href=\x22/p/'+_0x26260b['username']+'\x22>'+_0x26260b['username']+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x27m-0\x20size-12\x27><span\x20class=\x22level-simple-design\x20level\x20level-'+_0x26260b['level']+'\x22></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>';for(const _0x2f01c9 of Object['keys'](_0x26260b['tasks'])){for(const _0x498d1e of _0x26260b['tasks'][_0x2f01c9]){let _0x51f1e1='<i\x20class=\x22fas\x20fa-check-circle\x20scoreboard-points\x22\x20data-toggle=\x22tooltip\x22\x20data-placement=\x22top\x22\x20title=\x22'+_0x498d1e['score']+'\x20points\x22></i>';!_0x498d1e['correct']&&(_0x51f1e1='<i\x20class=\x22fas\x20fa-check-circle\x22\x20style=\x22opacity:\x200.2;\x22></i>'),_0xd07a60+='<td\x20class=\x22scoreboard_check\x22>'+_0x51f1e1+'</td>';}}_0xd07a60+='<td\x20class=\x22scoreboard_score\x22>'+_0x26260b['score']+'</td>',_0xd07a60+='</tr>',_0x250c1f['innerHTML']+=_0xd07a60,$('.scoreboard-points')['tooltip']();}));}function showChart(_0x483383){$['getJSON']('/api/room/scoreboard?code='+_0x483383+'&limit=10',async function(_0x10804a){populateChart(_0x10804a);});}function populateChart(_0x3a88e0){if(_0x3a88e0['length']>0x0){updateScoreboard(_0x3a88e0);const _0x3cecf4=formatChartData(_0x3a88e0);renderLineChart(_0x3cecf4);}else{const _0x519661=document['querySelector']('#scoreboard');_0x519661&&(_0x519661['innerHTML']='</br><div\x20class=\x22alert\x20alert-info\x22\x20id=\x22ctf-scoreboard\x22\x20role=\x22alert\x22>There\x20are\x20no\x20scores\x20to\x20show\x20yet.</div>',chartEl['innerHTML']='<div\x20class=\x22alert\x20alert-info\x22\x20id=\x22ctf-chart\x22\x20role=\x22alert\x22>No\x20chart\x20data\x20to\x20display.</div>',chartEl['style']['height']='auto');}}function formatChartData(_0x1ff6b9){let _0x4f954d=[];const _0x1a3efe=[];for(const _0x59b361 of _0x1ff6b9){_0x1a3efe['push']({'username':_0x59b361['username'],'currentPoints':0x0,'data':[]});for(const _0x44c261 of Object['keys'](_0x59b361['tasks'])){for(const _0x2816ff of _0x59b361['tasks'][_0x44c261]){_0x4f954d['push']({'username':_0x59b361['username'],'points':_0x2816ff['score'],'awarded':_0x2816ff['timeCorrect']});}}}_0x4f954d=_0x4f954d=_['sortBy'](_0x4f954d,'awarded');const _0x1c2966=[];for(const _0x3cabd9 of _0x4f954d){if(_0x3cabd9['awarded']!=0x0){for(const _0x58dbd5 of _0x1a3efe){_0x58dbd5['username']==_0x3cabd9['username']?(_0x58dbd5['currentPoints']+=_0x3cabd9['points'],_0x58dbd5['data']['push'](_0x58dbd5['currentPoints'])):_0x58dbd5['data']['push'](_0x58dbd5['currentPoints']);}_0x1c2966['push'](_0x3cabd9['awarded']);}}return{'series':_0x1a3efe,'labels':_0x1c2966};}function renderLineChart(_0x16766d){if(apexChart)apexChart['destroy']();const _0x3dc16e=_0x16766d['labels'],_0x573095=[];for(const _0xa68fe2 of _0x3dc16e){const _0x512839=_0xa68fe2?prettifyDate3(_0xa68fe2):'-';_0x573095['push'](_0x512839);}const _0x299d10=_0x16766d['series'],_0x458a80=[];for(const _0x16e80a of _0x299d10){_0x458a80['push']({'name':_0x16e80a['username'],'type':'line','data':_0x16e80a['data']});}var _0x88d6de={'series':_0x458a80,'chart':{'animations':apexChartAnimations,'zoom':{'enabled':![]},'height':0x15e,'type':'line','toolbar':{'show':![]}},'stroke':{'curve':'smooth'},'fill':{'type':'solid','opacity':[0.35,0x1]},'labels':_0x573095,'markers':{'size':0x0},'xaxis':{'tooltip':{'enabled':![]},'labels':{'show':![]}},'selection':{'enabled':![]},'tooltip':{'shared':!![],'intersect':![],'y':{'formatter':function(_0x37ebbe){if(typeof _0x37ebbe!=='undefined')return _0x37ebbe['toFixed'](0x0)+'\x20points';return _0x37ebbe;}},'x':{'format':'dd\x20MMM'}}};apexChart=new ApexCharts(chartEl,_0x88d6de),apexChart['render'](),apexChartAnimations['enabled']=![];}