function readNotifications(){return $('#notification-dot,\x20#mobile-notification-dot')['fadeOut'](0x1f4),new Promise(function(_0x21c233,_0x5d9f5a){$['post']('/notifications/read');});}function getNotifications(){return new Promise(function(_0x39c838,_0x4938e6){$['getJSON']('/notifications/get',async function(_0x4d8ca7){return _0x39c838(_0x4d8ca7);});});}function buildNotificationHtml(_0x4322fa,_0x16cdf3,_0x2e03bf){return'\x0a\x20\x20\x20\x20<div\x20class=\x22row\x20notification\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-auto\x20text-center\x22>'+_0x4322fa+'</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22col\x20p-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div>'+_0x16cdf3+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27size-12\x20faded\x20mt-1\x27>'+_0x2e03bf+'</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20';}async function hasUnreadNotif(){let _0x34245a=![];return await $['getJSON']('/notifications/has-unseen',async function(_0x1d62e5){_0x34245a=_0x1d62e5['hasUnread'];}),_0x34245a;}const notificationEls=[document['querySelector']('#nav-notifications'),document['querySelector']('#mobile-nav-notifications')];async function populateNotifications(){const _0x4cfa5a=await getNotifications(),_0x5a961c=_0x4cfa5a['filter'](_0x5b562d=>!_0x5b562d['isSpecial']);if(_0x5a961c['length']>0x0){notificationEls['forEach'](function(_0x1615fb){_0x1615fb['innerHTML']='',_0x1615fb['style']['padding']='0';});isBeginner&&userSignedUpLessThanSevenDaysAgo&&!userHasFirst4RoomsBadge&&notificationEls['forEach'](function(_0x1553c5){_0x1553c5['innerHTML']+=buildNotificationHtml('<img\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22notification-badge\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22Badge\x20earned\x20upon\x20completion\x20of\x204\x20rooms\x20in\x20one\x20week.\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20src=\x22/img/badges/firstfour.svg\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/>','Complete\x204\x20rooms\x20in\x20a\x20week\x20and\x20win\x20a\x20badge!','');});for(const _0x49d508 of _0x5a961c){let _0x549ec3;if(_0x49d508['icon']=='default'||_0x49d508['icon']['length']==0x0)_0x549ec3='<i\x20class=\x22fad\x20fa-info-square\x20small\x20text-blue\x20size-14\x22></i>';else{if(_0x49d508['icon']=='congrats')_0x549ec3='<img\x20height=\x2218\x22\x20src=\x22https://assets.tryhackme.com/img/icons/confetti.png\x22>';else{if(_0x49d508['icon']=='message')_0x549ec3='<img\x20height=\x2218\x22\x20src=\x22https://assets.tryhackme.com/img/icons/message.png\x22>';else _0x49d508['icon']=='streak-freeze'?_0x549ec3='<img\x20alt=\x22icon\x22\x20height=\x2250\x22\x20width=\x2250\x22\x20src=\x22https://assets.tryhackme.com/img/svgs/streak-freeze.svg\x22>':_0x549ec3='<img\x20alt=\x22icon\x22\x20class=\x22avatar-tiny\x22\x20src=\x22'+_0x49d508['icon']+'\x22>';}}const _0xb3b51c=buildNotificationHtml(_0x549ec3,_0x49d508['description'],prettifyShd(_0x49d508['created']));notificationEls['forEach'](function(_0x431d34){_0x431d34['innerHTML']+=_0xb3b51c;});}}else notificationEls['forEach'](function(_0x2a2d8d){_0x2a2d8d['innerHTML']='<div\x20class=\x22text-center\x20mt-2\x20mb-2\x22>You\x20have\x20no\x20notifications</div>';});}async function initNotifications(){const _0x12bf4f=await hasUnreadNotif();_0x12bf4f==!![]?(document['querySelector']('#notification-dot')['style']['display']='block',document['querySelector']('#mobile-notification-dot')['style']['display']='block',document['querySelector']('#notification-icon')['className']+='\x20animated\x20swing',document['querySelector']('#mobile-notification-icon')['className']+='\x20animated\x20swing'):readNotificationsReq=!![];}let readNotificationsReq=![],areNotifPopulated=![];const notifButEl=[document['querySelector']('#notification-btn'),document['querySelector']('#mobile-notification-btn')];notifButEl['forEach'](function(_0x5c8c5e){_0x5c8c5e['addEventListener']('click',function(){!readNotificationsReq&&(readNotificationsReq=!![],readNotifications()),!areNotifPopulated&&(populateNotifications(),areNotifPopulated=!![]);}),_0x5c8c5e['addEventListener']('mouseenter',function(){!areNotifPopulated&&(populateNotifications(),areNotifPopulated=!![]);});}),$(document)['ready'](async function(){initNotifications();});